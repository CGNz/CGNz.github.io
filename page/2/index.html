<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>CGNz&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="CGNz&#39;s blog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="CGNz&#39;s blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CGNz&#39;s blog">
  
    <link rel="alternate" href="/atom.xml" title="CGNz&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">CGNz&#39;s blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">鸿鹄安知燕雀之志</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Java学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/21/Java学习笔记/" class="article-date">
  <time datetime="2018-08-21T07:22:48.000Z" itemprop="datePublished">2018-08-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/IT/">IT</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/21/Java学习笔记/">Java学习笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Spring框架概念"><a href="#Spring框架概念" class="headerlink" title="Spring框架概念"></a>Spring框架概念</h1><ul>
<li>Spring是一个开源容器框架，可以接管web层，业务层，dao层，持久层的组件，并且可以配置各种bean,和维护bean与bean之间的关系。其核心就是控制反转(IOC)，和面向切面(AOP)，简单的说就是一个分层的轻量级开源框架。<h2 id="控制反转-IoC-依赖注入-DI"><a href="#控制反转-IoC-依赖注入-DI" class="headerlink" title="控制反转(IoC) 依赖注入(DI)"></a>控制反转(IoC) 依赖注入(DI)</h2>依赖注入(Dependency Injection)和控制反转(Inversion of Control)是同一个概念。具体含义是:当某个角色(可能是一个Java实例，调用者)需要另一个角色(另一个Java实例，被调用者)的协助时，在传统的程序设计过程中，通常由调用者来创建被调用者的实例。但在Spring里，创建被调用者的工作不再由调用者来完成，因此称为控制反转;创建被调用者 实例的工作通常由Spring容器来完成，然后注入调用者，因此也称为依赖注入。<h2 id="面向切面-AOP"><a href="#面向切面-AOP" class="headerlink" title="面向切面(AOP)"></a>面向切面(AOP)</h2>AOP主要实现的目的是针对业务处理过程中的切面进行提取，它所面对的是处理过程中的某个步骤或阶段，以获得逻辑过程中各部分之间低耦合性的隔离效果。</li>
</ul>
<h1 id="Spring-事务机制总结"><a href="#Spring-事务机制总结" class="headerlink" title="Spring 事务机制总结"></a>Spring 事务机制总结</h1><ul>
<li>Spring两种事务处理机制，一是声明式事务，二是编程式事务</li>
</ul>
<h2 id="声明式事务"><a href="#声明式事务" class="headerlink" title="声明式事务"></a>声明式事务</h2><p>Spring的声明式事务管理在底层是建立在AOP的基础之上的。其本质是对方法前后进行拦截，然后在目标方法开始之前创建或者加入一个事务，在执行完目标方法之后根据执行情况提交或者回滚事务。</p>
<p>声明式事务最大的优点就是不需要通过编程的方式管理事务，这样就不需要在业务逻辑代码中掺杂事务管理的代码，只需在配置文件中做相关的事务规则声明（或通过等价的基于标注的方式），便可以将事务规则应用到业务逻辑中。</p>
<p>因为事务管理本身就是一个典型的横切逻辑，正是AOP的用武之地。Spring开发团队也意识到了这一点，为声明式事务提供了简单而强大的支持。Spring强大的声明式事务管理功能，这主要得益于Spring依赖注入容器和Spring AOP的支持。</p>
<p>依赖注入容器为声明式事务管理提供了基础设施，使得Bean对于Spring框架而言是可管理的；而Spring AOP则是声明式事务管理的直接实现者。</p>
<p>和编程式事务相比，声明式事务唯一不足地方是，后者的<strong>最细粒度</strong>只能作用到方法级别，无法做到像编程式事务那样可以作用到代码块级别。但是即便有这样的需求，也存在很多变通的方法，比如，可以将需要进行事务管理的代码块独立为方法等等。</p>
<ul>
<li>5种配置方式：<br>Spring配置文件中关于事务配置总是由三个组成部分，分别是DataSource、TransactionManager和代理机制这三部分，无论哪种配置方式，一般变化的只是代理机制这部分。</li>
</ul>
<p>DataSource、TransactionManager这两部分只是会根据数据访问方式有所变化，比如使用Hibernate进行数据访问时，DataSource实际为SessionFactory，TransactionManager的实现为HibernateTransactionManager。<br>关系图如下：<br><img src="http://images.blogjava.net/blogjava_net/robbie/WindowsLiveWriter/Spring_9C9C/Spring%E4%BA%8B%E5%8A%A1%E9%85%8D%E7%BD%AE%20%282%29.jpg" alt="image"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;sessionFactory&quot;</span><br><span class="line">	class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;configLocation&quot; value=&quot;classpath:hibernate.cfg.xml&quot; /&gt;</span><br><span class="line">	&lt;property name=&quot;configurationClass&quot; value=&quot;org.hibernate.cfg.AnnotationConfiguration&quot; /&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!-- 定义事务管理器（声明式的事务） --&gt;</span><br><span class="line">&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<p>注意：sessionFactorty和transactionManager是下面5中配置方式的基本配置</p>
<h3 id="第一种方式：每个Bean都有一个代理"><a href="#第一种方式：每个Bean都有一个代理" class="headerlink" title="第一种方式：每个Bean都有一个代理"></a>第一种方式：每个Bean都有一个代理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 配置DAO --&gt;</span><br><span class="line">&lt;bean id=&quot;userDaoTarget&quot; class=&quot;com.test.spring.dao.UserDaoImpl&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"> </span><br><span class="line">&lt;bean id=&quot;userDao&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;</span><br><span class="line">	&lt;!-- 配置事务管理器 --&gt;</span><br><span class="line">	&lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;</span><br><span class="line">	&lt;property name=&quot;target&quot; ref=&quot;userDaoTarget&quot; /&gt;</span><br><span class="line">	&lt;property name=&quot;proxyInterfaces&quot; value=&quot;com.test.spring.dao.GeneratorDao&quot; /&gt;</span><br><span class="line">	&lt;!-- 配置事务属性 --&gt;</span><br><span class="line">	&lt;property name=&quot;transactionAttributes&quot;&gt;</span><br><span class="line">		&lt;props&gt;</span><br><span class="line">			&lt;prop key=&quot;*&quot;&gt;PROPAGATION_REQUIRED&lt;/prop&gt;</span><br><span class="line">		&lt;/props&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<h3 id="第二种方式：所有Bean共享一个代理基类"><a href="#第二种方式：所有Bean共享一个代理基类" class="headerlink" title="第二种方式：所有Bean共享一个代理基类"></a>第二种方式：所有Bean共享一个代理基类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;transactionBase&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot; lazy-init=&quot;true&quot; abstract=&quot;true&quot;&gt;</span><br><span class="line">	&lt;!-- 配置事务管理器 --&gt;</span><br><span class="line">	&lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;</span><br><span class="line">	&lt;!-- 配置事务属性 --&gt;</span><br><span class="line">	&lt;property name=&quot;transactionAttributes&quot;&gt;</span><br><span class="line">		&lt;props&gt;</span><br><span class="line">			&lt;prop key=&quot;*&quot;&gt;PROPAGATION_REQUIRED&lt;/prop&gt;</span><br><span class="line">		&lt;/props&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!-- 配置DAO --&gt;</span><br><span class="line">&lt;bean id=&quot;userDaoTarget&quot; class=&quot;com.test.spring.dao.UserDaoImpl&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"> </span><br><span class="line">&lt;bean id=&quot;userDao&quot; parent=&quot;transactionBase&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;target&quot; ref=&quot;userDaoTarget&quot; /&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<h3 id="第三种方式：使用拦截器"><a href="#第三种方式：使用拦截器" class="headerlink" title="第三种方式：使用拦截器"></a>第三种方式：使用拦截器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;transactionInterceptor&quot; class=&quot;org.springframework.transaction.interceptor.TransactionInterceptor&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot; /&gt;</span><br><span class="line">	&lt;!-- 配置事务属性 --&gt;</span><br><span class="line">	&lt;property name=&quot;transactionAttributes&quot;&gt;</span><br><span class="line">		&lt;props&gt;</span><br><span class="line">			&lt;prop key=&quot;*&quot;&gt;PROPAGATION_REQUIRED&lt;/prop&gt;</span><br><span class="line">		&lt;/props&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"> </span><br><span class="line">&lt;bean class=&quot;org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;beanNames&quot;&gt;</span><br><span class="line">		&lt;list&gt;</span><br><span class="line">			&lt;value&gt;*Dao&lt;/value&gt;</span><br><span class="line">		&lt;/list&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">	&lt;property name=&quot;interceptorNames&quot;&gt;</span><br><span class="line">		&lt;list&gt;</span><br><span class="line">			&lt;value&gt;transactionInterceptor&lt;/value&gt;</span><br><span class="line">		&lt;/list&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!-- 配置DAO --&gt;</span><br><span class="line">&lt;bean id=&quot;userDao&quot; class=&quot;com.test.spring.dao.UserDaoImpl&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<h3 id="第四种方式：使用tx标签配置的拦截器"><a href="#第四种方式：使用tx标签配置的拦截器" class="headerlink" title="第四种方式：使用tx标签配置的拦截器"></a>第四种方式：使用tx标签配置的拦截器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;</span><br><span class="line">	&lt;tx:attributes&gt;</span><br><span class="line">		&lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; /&gt;</span><br><span class="line">	&lt;/tx:attributes&gt;</span><br><span class="line">&lt;/tx:advice&gt;</span><br><span class="line"> </span><br><span class="line">&lt;aop:config&gt;</span><br><span class="line">	&lt;aop:pointcut id=&quot;interceptorPointCuts&quot;</span><br><span class="line">		expression=&quot;execution(* com.test.spring.dao.*.*(..))&quot; /&gt;</span><br><span class="line">	&lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;interceptorPointCuts&quot; /&gt;</span><br><span class="line">&lt;/aop:config&gt;</span><br></pre></td></tr></table></figure>
<h3 id="第五种方式：全注解"><a href="#第五种方式：全注解" class="headerlink" title="第五种方式：全注解"></a>第五种方式：全注解</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class test &#123;</span><br><span class="line">	@Transactional</span><br><span class="line">	public class UserDaoImpl extends HibernateDaoSupport implements UserDao &#123;</span><br><span class="line"> </span><br><span class="line">		public List&lt;User&gt; listUsers() &#123;</span><br><span class="line">			return null</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="编程式事务"><a href="#编程式事务" class="headerlink" title="编程式事务"></a>编程式事务</h2><p>Spring的编程式事务即在代码中使用编程的方式进行事务处理，可以做到比声明式事务更细粒度。有两种方式一是使用TransactionManager，另外就是TransactionTemplate。</p>
<h3 id="TransactionManager使用方式"><a href="#TransactionManager使用方式" class="headerlink" title="TransactionManager使用方式"></a>TransactionManager使用方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public class UserDaoImpl extends HibernateDaoSupport implements UserDao &#123;</span><br><span class="line">	private HibernateTransactionManager transactionManager;</span><br><span class="line">	private DefaultTransactionDefinition def;</span><br><span class="line"> </span><br><span class="line">	public HibernateTransactionManager getTransactionManager() &#123;</span><br><span class="line">		return transactionManager;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	public void setTransactionManager(HibernateTransactionManager transactionManager) &#123;</span><br><span class="line">		this.transactionManager = transactionManager;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	public void createTransactionDefinition() &#123;</span><br><span class="line">		def = new DefaultTransactionDefinition();</span><br><span class="line">		def.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRED);</span><br><span class="line">		def.setIsolationLevel(TransactionDefinition.ISOLATION_READ_COMMITTED);</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	public void saveOrUpdate(User user) &#123;</span><br><span class="line">		TransactionStatus status = transactionManager.getTransaction(def);</span><br><span class="line">		try &#123;</span><br><span class="line">			this.getHibernateTemplate().saveOrUpdate(user);</span><br><span class="line">		&#125; catch (DataAccessException ex) &#123;</span><br><span class="line">			transactionManager.rollback(status);</span><br><span class="line">			throw ex;</span><br><span class="line">		&#125;</span><br><span class="line">		transactionManager.commit(status);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="TransactionTemplate方式"><a href="#TransactionTemplate方式" class="headerlink" title="TransactionTemplate方式"></a>TransactionTemplate方式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ResultDto ret = null;</span><br><span class="line">ret = (ResultDto) this.transactionTemplate.execute(new TransactionCallback() &#123;</span><br><span class="line">	@Override</span><br><span class="line">	public Object doInTransaction(TransactionStatus status) &#123;</span><br><span class="line">		ResultDto ret = null;</span><br><span class="line">		try &#123;</span><br><span class="line">			drillTaskDao.deleteByKey(taskid);</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			logger.error(&quot;delDrillTask:&quot; + e.getMessage(), e);</span><br><span class="line">			ret = ResultBuilder.buildResult(ResultBuilder.FAIL_CODE, null, ErrorCode.COM_DBDELETEERROR);</span><br><span class="line">			return ret;</span><br><span class="line">		&#125;</span><br><span class="line">		finally &#123;</span><br><span class="line">			status.setRollbackOnly();</span><br><span class="line">		&#125;</span><br><span class="line">		 </span><br><span class="line">		ret = cleartaskrelativedata(taskid, appid, true);</span><br><span class="line">		return ret;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">return ret;</span><br></pre></td></tr></table></figure>
<h1 id="同步与异步"><a href="#同步与异步" class="headerlink" title="同步与异步"></a>同步与异步</h1><h2 id="java线程-同步与异步"><a href="#java线程-同步与异步" class="headerlink" title="java线程 同步与异步"></a>java线程 同步与异步</h2><p>多线程并发时，多个线程同时请求同一个资源，必然导致此资源的数据不安全，A线程修改了B线程的处理的数据，而B线程又修改了A线程处理的数理。显然这是由于全局资源造成的，有时为了解决此问题，优先考虑使用局部变量，退而求其次使用同步代码块，出于这样的安全考虑就必须牺牲系统处理性能，加在多线程并发时资源挣夺最激烈的地方，这就实现了线程的同步机制。</p>
<h3 id="同步："><a href="#同步：" class="headerlink" title="同步："></a>同步：</h3><p>A线程要请求某个资源，但是此资源正在被B线程使用中，因为同步机制存在，A线程请求不到，怎么办，A线程只能等待下去；</p>
<h3 id="异步："><a href="#异步：" class="headerlink" title="异步："></a>异步：</h3><p>A线程要请求某个资源，但是此资源正在被B线程使用中，因为没有同步机制存在，A线程<br>仍然请求的到，A线程无需等待；</p>
<p>显然，同步最最安全，最保险的。而异步不安全，容易导致死锁，这样一个线程死掉就会导致整个进程崩溃，但没有同步机制的存在，性能会有所提升。</p>
<p>java中实现多线程</p>
<blockquote>
<p>1）继承Thread,重写里面的run方法</p>
</blockquote>
<blockquote>
<p>2）实现runnable接口<br>比较推荐后者，第一，java没有单继承的限制；第二，还可以隔离代码。</p>
</blockquote>
<h3 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h3><h4 id="1、-什么时候必须同步？什么叫同步？如何同步？"><a href="#1、-什么时候必须同步？什么叫同步？如何同步？" class="headerlink" title="1、 什么时候必须同步？什么叫同步？如何同步？"></a>1、 什么时候必须同步？什么叫同步？如何同步？</h4><p>要跨线程维护正确的可见性，只要在几个线程之间共享非 final变量，就必须使用synchronized（或 volatile）以确保一个线程可以看见另一个线程做的更改。为了在线程之间进行可靠的通信，也为了互斥访问，同步是必须的。这归因于java语言规范的内存模型，它规定了：一个线程所做的变化何时以及如何变成对其它线程可见。因为多线程将异步行为引进程序，所以在需要同步时，必须有一种方法强制进行。例如：如果2个线程想要通信并且要共享一个复杂的数据结构，如链表，此时需要确保它们互不冲突，也就是必须阻止B线程在A线程读数据的过程中向链表里面写数据（A获得了锁，B必须等A释放了该锁）。为了达到这个目的，java在一个旧的的进程同步模型——监控器（Monitor）的基础上实现了一个巧妙的方案：监控器是一个控制机制，可以认为是一个很小的、只能容纳一个线程的盒子，一旦一个线程进入监控器，其它的线程必须等待，直到那个线程退出监控为止。通过这种方式，一个监控器可以保证共享资源在同一时刻只可被一个线程使用。这种方式称之为同步。（一旦一个线程进入一个实例的任何同步方法，别的线程将不能进入该同一实例的其它同步方法，但是该实例的非同步方法仍然能够被调用）。</p>
<ul>
<li>错误的理解：同步嘛，就是几个线程可以同时进行访问。</li>
</ul>
<p>同步和多线程关系：没多线程环境就不需要同步;有多线程环境也不一定需要同步。<br>锁提供了两种主要特性：<strong>互斥</strong>（mutual exclusion）和<strong>可见性</strong>（visibility）。<br>互斥即一次只允许一个线程持有某个特定的锁，因此可使用该特性实现对共享数据的协调访问协议，这样，一次就只有一个线程能够使用该共享数据。<br>可见性要更加复杂一些，它必须确保释放锁之前对共享数据做出的更改对于随后获得该锁的另一个线程是可见的——如果没有同步机制提供的这种可见性保证，线程看到的共享变量可能是修改前的值或不一致的值，这将引发许多严重问题</p>
<ul>
<li>小结：为了防止多个线程并发对同一数据的修改，所以需要同步，否则会造成数据不一致（就是所谓的：线程安全。如java集合框架中Hashtable和Vector是线程安全的。我们的大部分程序都不是线程安全的，因为没有进行同步，而且我们没有必要，因为大部分情况根本没有多线程环境）。</li>
</ul>
<h4 id="2、什么叫原子的（原子操作）？"><a href="#2、什么叫原子的（原子操作）？" class="headerlink" title="2、什么叫原子的（原子操作）？"></a>2、什么叫原子的（原子操作）？</h4><p>Java原子操作是指：不会被打断的操作。</p>
<p>（就是做到互斥和可见性？）</p>
<p>那难道原子操作就可以真的达到线程安全同步效果了吗？实际上有一些原子操作不一定是线程安全的。<br>那么，原子操作在什么情况下不是线程安全的呢？也许是这个原因导致的：java线程允许线程在自己的内存区保存变量的副本。允许线程使用本地的私有拷贝进行工作而非每次都使用主存的值是为了提高性能（虽然原子操作是线程安全的，可各线程在得到变量（读操作）后，就是各自玩弄自己的副本了，更新操作（写操作）因未写入主存中，导致其它线程不可见）。</p>
<p>那该如何解决呢？因此需要通过java同步机制。</p>
<p>在java中，32位或者更少位数的赋值是原子的。在一个32位的硬件平台上，除了double和long型的其它原始类型通常都是使用32位进行表示，而double和long通常使用64位表示。另外，对象引用使用本机指针实现，通常也是32位的。对这些32位的类型的操作是原子的。</p>
<p>这些原始类型通常使用32位或者64位表示，这又引入了另一个小小的神话：原始类型的大小是由语言保证的。这是不对的。java语言保证的是原始类型的表数范围而非JVM中的存储大小。因此，int型总是有相同的表数范围。在一个JVM上可能使用32位实现，而在另一个JVM上可能是64位的。在此再次强调：在所有平台上被保证的是表数范围，32位以及更小的值的操作是原子的。</p>
<h4 id="3、不要搞混了：同步、异步"><a href="#3、不要搞混了：同步、异步" class="headerlink" title="3、不要搞混了：同步、异步"></a>3、不要搞混了：同步、异步</h4><p>举个例子：普通B/S模式（同步）AJAX技术（异步）</p>
<ul>
<li>同步：提交请求-&gt;等待服务器处理-&gt;处理完返回这个期间客户端浏览器不能干任何事</li>
<li>异步：请求通过事件触发-&gt;服务器处理（这是浏览器仍然可以作其他事情）-&gt;处理完毕</li>
</ul>
<p>可见，彼“同步”非此“同步”——我们说的java中的那个共享数据同步（synchronized）</p>
<p>一个同步的对象是指行为（动作），一个是同步的对象是指物质（共享数据）。</p>
<h4 id="4、Java同步机制有4种实现方式："><a href="#4、Java同步机制有4种实现方式：" class="headerlink" title="4、Java同步机制有4种实现方式："></a>4、Java同步机制有4种实现方式：</h4><p>① ThreadLocal ② synchronized( ) ③ wait() 与 notify() ④ volatile</p>
<p>目的：都是为了解决多线程中的对同一变量的访问冲突</p>
<h5 id="ThreadLocal"><a href="#ThreadLocal" class="headerlink" title="ThreadLocal"></a>ThreadLocal</h5><p>ThreadLocal 保证不同线程拥有不同实例，相同线程一定拥有相同的实例，即为每一个使用该变量的线程提供一个该变量值的副本，每一个线程都可以独立改变自己的副本，而不是与其它线程的副本冲突。</p>
<ul>
<li>优势：提供了线程安全的共享对象</li>
</ul>
<p>与其它同步机制的区别：同步机制是为了同步多个线程对相同资源的并发访问，是为了多个线程之间进行通信；</p>
<p>而 ThreadLocal是隔离多个线程的数据共享，从根本上就不在多个线程之间共享资源，这样当然不需要多个线程进行同步了。</p>
<h5 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a>volatile</h5><p>volatile 修饰的成员变量在每次被线程访问时，都强迫从共享内存中重读该成员变量的值。</p>
<p>而且，当成员变量发生变化时，强迫线程将变化值回写到共享内存。</p>
<p>优势：这样在任何时刻，两个不同的线程总是看到某个成员变量的同一个值。</p>
<p>缘由：Java 语言规范中指出，为了获得最佳速度，允许线程保存共享成员变量的私有拷贝，而且只当线程进入或者离开同步代码块时才与共享成员变量的原始值对比。这样当多个线程同时与某个对象交互时，就必须要注意到要让线程及时的得到共享成员变量的变化。而 volatile关键字就是提示VM：对于这个成员变量不能保存它的私有拷贝，而应直接与共享成员变量交互。</p>
<p>使用技巧：在两个或者更多的线程访问的成员变量上使用 volatile 。当要访问的变量已在synchronized 代码块中，或者为常量时，不必使用。</p>
<p>线程为了提高效率，将某成员变量(如A)拷贝了一份（如B），线程中对A的访问其实访问的是B。只在某些动作时才进行A和B的同步，因此存在A和B不一致的情况。volatile就是用来避免这种情况的volatile告诉jvm，它所修饰的变量不保留拷贝，直接访问主内存中的（读操作多时使用较好；线程间需要通信，本条做不到）</p>
<p>Volatile 变量具有synchronized的可见性特性，但是不具备原子特性。这就是说线程能够自动发现 volatile 变量的最新值。Volatile变量可用于提供线程安全，但是只能应用于非常有限的一组用例：多个变量之间或者某个变量的当前值与修改后值之间没有约束。只能在有限的一些情形下使用 volatile 变量替代锁。要使volatile变量提供理想的线程安全，必须同时满足下面两个条件：</p>
<blockquote>
<p>对变量的写操作不依赖于当前值；</p>
</blockquote>
<blockquote>
<p>该变量没有包含在具有其他变量的不变式中。</p>
</blockquote>
<h5 id="sleep-vs-wait"><a href="#sleep-vs-wait" class="headerlink" title="sleep() vs wait()"></a>sleep() vs wait()</h5><p>sleep是线程类（Thread）的方法，导致此线程暂停执行指定时间，把执行机会给其他线程，但是监控状态依然保持，到时后会自动恢复。调用sleep不会释放对象锁。</p>
<p>wait是Object类的方法，对此对象调用wait方法导致本线程放弃对象锁，进入等待此对象的等待锁定池，只有针对此对象发出notify方法（或notifyAll）后本线程才进入对象锁定池准备获得对象锁进入运行状态。</p>
<p>（如果变量被声明为volatile，在每次访问时都会和主存一致；如果变量在同步方法或者同步块中被访问，当在方法或者块的入口处获得锁以及方法或者块退出时释放锁时变量被同步。）</p>
<h1 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h1><h2 id="jdbc"><a href="#jdbc" class="headerlink" title="jdbc"></a>jdbc</h2><h3 id="jdbc编程步骤："><a href="#jdbc编程步骤：" class="headerlink" title="jdbc编程步骤："></a>jdbc编程步骤：</h3><p>1、加载数据库驱动</p>
<p>2、创建并获取数据库链接</p>
<p>3、创建jdbc statement对象</p>
<p>4、设置sql语句</p>
<p>5、设置sql语句中的参数(使用preparedStatement)</p>
<p>6、通过statement执行sql并获取结果</p>
<p>7、对sql执行结果进行解析处理</p>
<p>8、释放资源(resultSet、preparedstatement、connection)</p>
<h3 id="jdbc问题总结如下："><a href="#jdbc问题总结如下：" class="headerlink" title="jdbc问题总结如下："></a>jdbc问题总结如下：</h3><p>1、数据库链接创建、释放频繁造成系统资源浪费从而影响系统性能，如果使用数据库链接池可解决此问题。</p>
<p>2、Sql语句在代码中硬编码，造成代码不易维护，实际应用sql变化的可能较大，sql变动需要改变java代码。</p>
<p>3、使用preparedStatement向占有位符号传参数存在硬编码，因为sql语句的where条件不一定，可能多也可能少，修改sql还要修改代码，系统不易维护。</p>
<p>4、对结果集解析存在硬编码（查询列名），sql变化导致解析代码变化，系统不易维护，如果能将数据库记录封装成pojo对象解析比较方便。</p>
<h2 id="Mybatis介绍"><a href="#Mybatis介绍" class="headerlink" title="Mybatis介绍"></a>Mybatis介绍</h2><p>MyBatis 本是apache的一个开源项目iBatis,2010年这个项目由apache software foundation迁移到了google code，并且改名为MyBatis，实质上Mybatis对ibatis进行一些改进。</p>
<p>MyBatis是一个优秀的持久层框架，它对jdbc的操作数据库的过程进行封装，使开发者只需要关注 SQL 本身，而不需要花费精力去处理例如注册驱动、创建connection、创建statement、手动设置参数、结果集检索等jdbc繁杂的过程代码。</p>
<p>Mybatis通过xml或注解的方式将要执行的各种statement（statement、preparedStatemnt、CallableStatement）配置起来，并通过java对象和statement中的sql进行映射生成最终执行的sql语句，最后由mybatis框架执行sql并将结果映射成java对象并返回。</p>
<h3 id="Mybatis架构"><a href="#Mybatis架构" class="headerlink" title="Mybatis架构"></a>Mybatis架构</h3><p>1、mybatis配置SqlMapConfig.xml，此文件作为mybatis的全局配置文件，配置了mybatis的运行环境等信息。</p>
<p>mapper.xml文件即sql映射文件，文件中配置了操作数据库的sql语句。此文件需要在SqlMapConfig.xml中加载。</p>
<p>2、通过mybatis环境等配置信息构造SqlSessionFactory即会话工厂</p>
<p>3、由会话工厂创建sqlSession即会话，操作数据库需要通过sqlSession进行。</p>
<p>4、mybatis底层自定义了Executor执行器接口操作数据库，Executor接口有两个实现，一个是基本执行器、一个是缓存执行器。</p>
<p>5、Mapped Statement也是mybatis一个底层封装对象，它包装了mybatis配置信息及sql映射信息等。mapper.xml文件中一个sql对应一Mapped Statement对象，sql的id即是Mapped statement的id。</p>
<p>6、Mapped Statement对sql执行输入参数进行定义，包括HashMap、基本类型、pojo，Executor通过Mapped Statement在执行sql前将输入的java对象映射至sql中，输入参数映射就是jdbc编程中对preparedStatement设置参数。</p>
<p>7、Mapped Statement对sql执行输出结果进行定义，包括HashMap、基本类型、pojo，Executor通过Mapped Statement在执行sql后将输出结果映射至java对象中，输出结果映射过程相当于jdbc编程中对结果的解析处理过程。</p>
<h3 id="Mybatis下载"><a href="#Mybatis下载" class="headerlink" title="Mybatis下载"></a>Mybatis下载</h3><p>mybaits的代码由github.com管理，地址：<a href="https://github.com/mybatis/mybatis-3/releases" target="_blank" rel="noopener">https://github.com/mybatis/mybatis-3/releases</a></p>
<p>mybatis-3.2.7.jar—-mybatis的核心包<br>lib—-mybatis的依赖包</p>
<p>mybatis-3.2.7.pdf—-mybatis使用手册<br>HashMap实现原理分析</p>
<h1 id="HashMap的数据结构"><a href="#HashMap的数据结构" class="headerlink" title="HashMap的数据结构"></a>HashMap的数据结构</h1><p>数据结构中有数组和链表来实现对数据的存储，但这两者基本上是两个极端。</p>
<h2 id="常见数据结构"><a href="#常见数据结构" class="headerlink" title="常见数据结构"></a>常见数据结构</h2><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>数组存储区间是连续的，占用内存严重，故空间复杂的很大。但数组的二分查找时间复杂度小，为O(1)；</p>
<p>数组的特点是：寻址容易，插入和删除困难；</p>
<h2 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h2><p>链表存储区间离散，占用内存比较宽松，故空间复杂度很小，但时间复杂度很大，达O(N)。</p>
<p>链表的特点是：寻址困难，插入和删除容易。</p>
<h2 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h2><p>那么我们能不能综合两者的特性，做出一种寻址容易，插入删除也容易的数据结构？答案是肯定的，这就是我们要提起的哈希表。</p>
<p>哈希表（(Hashtable）既满足了数据的查找方便，同时不占用太多的内容空间，使用也十分方便。</p>
<p>哈希表是由数组+链表组成的，一个长度为16的数组中，每个元素存储的是一个链表的头结点。那么这些元素是按照什么样的规则存储到数组中呢。一般情况是通过hash(key)%len获得，也就是元素的key的哈希值对数组长度取模得到。比如上述哈希表中，12%16=12,28%16=12,108%16=12,140%16=12。所以12、28、108以及140都存储在数组下标为12的位置。</p>
<p>HashMap其实也是一个线性的数组实现的,所以可以理解为其存储数据的容器就是一个线性数组。这可能让我们很不解，一个线性的数组怎么实现按键值对来存取数据呢？这里HashMap有做一些处理。</p>
<p>HashMap里面实现一个静态内部类Entry，其重要的属性有key,value,next，从属性key,value我们就能很明显的看出来Entry就是HashMap键值对实现的一个基础bean，我们上面说到HashMap的基础就是一个线性数组，这个数组就是Entry[]，Map里面的内容都保存在Entry[]里面。</p>
<h1 id="REST"><a href="#REST" class="headerlink" title="REST"></a>REST</h1><ul>
<li>REST– REpresentational State Transfer，英语的直译就是“表现层状态转移”。如果看这个概念，估计没几个人能明白是什么意思。那下面就让我来用一句人话解释一下什么是RESTful:URL定位资源，用HTTP动词（GET,POST,PUT,DELETE)描述操作。</li>
</ul>
<p><strong>Resource</strong>：资源，即数据。<br>Representational：某种表现形式，比如用JSON，XML，JPEG等；<br><strong>State Transfer</strong>：状态变化。通过HTTP动词实现。</p>
<p>所以RESTful API就是REST风格的API。那么在什么场景下使用RESTful API呢？</p>
<p>在当今的互联网应用的前端展示媒介很丰富。有手机、有平板电脑还有PC以及其他的展示媒介。那么这些前端接收到的用户请求统一由一个后台来处理并返回给不同的前端肯定是最科学和最经济的方式，RESTful API就是一套协议来规范多种形式的前端和同一个后台的交互方式。</p>
<h2 id="RESTful-API设计原则和规范"><a href="#RESTful-API设计原则和规范" class="headerlink" title="RESTful API设计原则和规范"></a>RESTful API设计原则和规范</h2><p>RESTful API由后台也就是SERVER来提供前端来调用。前端调用API向后台发起HTTP请求，后台响应请求将处理结果反馈给前端。也就是说RESTful 是典型的基于HTTP的协议。那么RESTful API有哪些设计原则和规范呢？</p>
<h3 id="1，资源"><a href="#1，资源" class="headerlink" title="1，资源"></a>1，资源</h3><p>首先是弄清楚资源的概念。资源就是网络上的一个实体，一段文本，一张图片或者一首歌曲。资源总是要通过一种载体来反应它的内容。文本可以用TXT，也可以用HTML或者XML、图片可以用JPG格式或者PNG格式，JSON是现在最常用的资源表现形式。</p>
<h3 id="2，统一接口"><a href="#2，统一接口" class="headerlink" title="2，统一接口"></a>2，统一接口</h3><p>RESTful风格的数据元操CRUD（create,read,update,delete）分别对应HTTP方法：GET用来获取资源，POST用来新建资源（也可以用于更新资源），PUT用来更新资源，DELETE用来删除资源，这样就统一了数据操作的接口。</p>
<h3 id="3，URI"><a href="#3，URI" class="headerlink" title="3，URI"></a>3，URI</h3><p>可以用一个URI（统一资源定位符）指向资源，即每个URI都对应一个特定的资源。要获取这个资源访问它的URI就可以，因此URI就成了每一个资源的地址或识别符。一般的，每个资源至少有一个URI与之对应，最典型的URI就是URL。</p>
<h3 id="4，无状态"><a href="#4，无状态" class="headerlink" title="4，无状态"></a>4，无状态</h3><p>所谓无状态即所有的资源都可以URI定位，而且这个定位与其他资源无关，也不会因为其他资源的变化而变化。</p>
<p>有状态和无状态的区别，举个例子说明一下，例如要查询员工工资的步骤为：</p>
<blockquote>
<p>第一步：登录系统。</p>
</blockquote>
<blockquote>
<p>第二步：进入查询工资的页面。</p>
</blockquote>
<blockquote>
<p>第三步：搜索该员工。</p>
</blockquote>
<blockquote>
<p>第四步：点击姓名查看工资。</p>
</blockquote>
<p>这样的操作流程就是有状态的，查询工资的每一个步骤都依赖于前一个步骤，只要前置操作不成功，后续操作就无法执行。</p>
<p>如果输入一个URL就可以得到指定员工的工资，则这种情况就是无状态的，因为获取工资不依赖于其他资源或状态，且这种情况下，员工工资是一个资源，由一个URL与之对应可以通过HTTP中的GET方法得到资源，这就是典型的RESTful风格。</p>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p>说了这么多，到底RESTful长什么样子的呢？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET:http://www.xxx.com/source/id</span><br></pre></td></tr></table></figure></p>
<p> 获取指定ID的某一类资源。例如GET:<a href="http://www.xxx.com/friends/123表示获取ID为123的会员的好友列表。如果不加id就表示获取所有会员的好友列表。" target="_blank" rel="noopener">http://www.xxx.com/friends/123表示获取ID为123的会员的好友列表。如果不加id就表示获取所有会员的好友列表。</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">POST:http://www.xxx.com/friends/123</span><br></pre></td></tr></table></figure>
<p>表示为指定ID为123的会员新增好友。其他的操作类似就不举例了。</p>
<h2 id="其他规范"><a href="#其他规范" class="headerlink" title="其他规范"></a>其他规范</h2><p>RESTful API还有其他一些规范。</p>
<p>1：应该将API的版本号放入URL。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET:http://www.xxx.com/v1/friend/123。</span><br></pre></td></tr></table></figure>
<p>或者将版本号放在HTTP头信息中。我个人觉得要不要版本号取决于自己开发团队的习惯和业务的需要，不是强制的。</p>
<p>2：URL中只能有名词而不能有动词，操作的表达是使用HTTP的动词GET,POST,PUT,DELETEL。URL只标识资源的地址，既然是资源那就是名词了。</p>
<p>3：如果记录数量很多，服务器不可能都将它们返回给用户。API应该提供参数，过滤返回结果。?limit=10：指定返回记录的数量、?page=2&amp;per_page=100：指定第几页，以及每页的记录数。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/21/Java学习笔记/" data-id="ckrnaka2l000bcguk1a6qyxx8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/">Spring</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-游戏中的经典AI设计：MOBA英雄AI设计分享" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/23/游戏中的经典AI设计：MOBA英雄AI设计分享/" class="article-date">
  <time datetime="2018-07-23T12:44:38.000Z" itemprop="datePublished">2018-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/其他游戏分析/">其他游戏分析</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/23/游戏中的经典AI设计：MOBA英雄AI设计分享/">游戏中的经典AI设计：MOBA英雄AI设计分享</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="设计概要"><a href="#设计概要" class="headerlink" title="设计概要"></a>设计概要</h1><h2 id="设计原则和目的"><a href="#设计原则和目的" class="headerlink" title="设计原则和目的"></a>设计原则和目的</h2><p>英雄AI的目的主要有：</p>
<blockquote>
<p>1.新手过渡局，让玩家刚进入到游戏时，和较弱电脑对战，培养成就感，避免尚未熟悉游戏导致的挫折流失。</p>
</blockquote>
<blockquote>
<p>2.人机对战，给玩家练习新英雄或者挑战高难度电脑的机会。</p>
</blockquote>
<blockquote>
<p>3.温暖局，对连败玩家，匹配机器人去补偿一场胜利，舒缓连败挫折。</p>
</blockquote>
<blockquote>
<p>4.掉线托管，用强度合理的AI来补位掉线玩家，减少其他在线玩家的掉线局有损体验。</p>
</blockquote>
<p>英雄AI的设计原则是：<strong>优秀的AI并不要求是尽量的和人表现一致，也不是多么的精准和无懈可击，而是能够和玩家进行很好的交互，提升游戏体验。</strong></p>
<h2 id="设计思路"><a href="#设计思路" class="headerlink" title="设计思路"></a>设计思路</h2><p>我们的AI实现分为四个阶段，正好类似于玩家的成长。</p>
<ul>
<li><p><strong>第一阶段</strong>是基本战术AI，主要包括：混线，买装备，逃避危险，回城，补兵。是一种单兵作战AI。模仿新手玩家的刚刚开始学习操作。</p>
</li>
<li><p><strong>第二阶段</strong>是增加一些事件响应用来控制英雄的走位和换线，包括敌塔下撤退，救援己方塔，包括抱团。模仿玩家已经开始渐渐了解塔的属性，初步开始与其他玩家合作。</p>
</li>
<li><p><strong>第三阶段</strong>是协同战术AI，该AI周期性的判断是否应该果断出击打出一波局部进攻。它会在比较短的时间内控制局部范围内的单位一起行动，会有走位，配合使用技能等较细致的行为，是一种小团队AI。模仿玩家已经开始熟悉所有英雄，微操提升，对Gank略有心得。</p>
</li>
<li><p><strong>第四阶段</strong>是战略AI，整体协调全部玩家在地图上的分布，野区，兵线。模仿玩家已经有较强的团队意识，会分工和配合了。</p>
</li>
</ul>
<h1 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h1><ul>
<li><p>1．<strong>单体战术AI</strong>：每个英雄都会配备自己独特的战术AI，此AI将实现战斗细节，比如英雄何时该释放技能，对谁释放;如何走位规避风险或者形成Gank优势站位;怎么补兵;购买贩卖何种道具;何时追击何时逃跑等等。</p>
</li>
<li><p>2．<strong>全局AI</strong>：全局AI是一种综合考虑场上所有战斗因素之后对单体发布指令的控制器。全局AI所关注的事情主要有：兵线英雄的分布，Gank发动时机，逃避危险，救援建筑。全局AI是通过给单位添加指令buff和修改单体战术AI的参数来实现的。</p>
</li>
<li><p>3． <strong>AI参数</strong>：我们将尽可能的暴露出AI的各种行为参数，并通过AI参数来控制电脑的AI难度强度。高难度AI，意味着它优先使用较高收益的战略。而低难度AI则可以选择比较低收益的战略。我们的不同难度AI是通过修改AI的一系列参数来实现的。</p>
</li>
<li><p>4．<strong>行为树</strong>：树形结构的行为流程处理，每个Tick到来时，行为树按照一定的规则进行搜索和执行相应节点，直到到达某个返回true的叶节点，之后结束当前Tick。</p>
</li>
<li><p>5． <strong>Gank 小组</strong>：Gank小组是一个动态的局部的概念，当我方英雄A周边有敌对英雄时，英雄A就是属于某个Gank小组的，Gank小组的其他成员必须和A距离很近。</p>
</li>
<li><p>6． <strong>Gank 行为</strong>：Gank行为是一种对集体行为的模仿，其本质仍然是单体AI，但Gank发动时机是通过全局AI来控制的。处于Gank状态的机器人会表现出与单体行动很不一样的行为，比如坦克可能宁死也不撤退，ADC优先释放控制技能。</p>
</li>
</ul>
<h1 id="行为树实现"><a href="#行为树实现" class="headerlink" title="行为树实现"></a>行为树实现</h1><h2 id="行为树脑图"><a href="#行为树脑图" class="headerlink" title="行为树脑图"></a>行为树脑图</h2><p>行为树脑图是一个多叉树，各个父节点的所有子节点节点按照从左到右、从上到下的顺序逐个检测，只要返回True了，之下的节点都不再执行。灰色注释为节点执行的先决条件，灰色节点不满足则直接返回False。脑图中的</p>
<p>对应着行为树中的Selector节点。</p>
<p>行为树工具基本思想都一致，但使用起来还是有较大差别的。常见的是Unity3D的BehaviorDesigner插件，虚幻4自带的行为树组件，公司内部的Behaviac。我最喜欢的是BehaviorDesigner，学习时还是推荐Behaviac，传送门：<a href="http://www.behaviac.com/language/zh/%E9%A6%96%E9%A1%B5/" target="_blank" rel="noopener">http://www.behaviac.com/language/zh/%E9%A6%96%E9%A1%B5/</a></p>
<p>原因比较简单，只有它是中文。</p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/01treehead.jpg" alt="英雄AI行为树脑图"></p>
<p>这是一个尚未展开的行为树，每个超链接都对应一个子树，会逐个展开来讲解。</p>
<h3 id="购买道具"><a href="#购买道具" class="headerlink" title="购买道具"></a>购买道具</h3><p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/02buy.jpg" alt="购买道具"></p>
<p>英雄购买道具需要提前写好英雄对应的阶段道具设置。</p>
<p>比如：</p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/03chuzhuang.jpg" alt="出装流程"></p>
<p>每隔一段时间检测一次金钱是否可以买卖下阶段的道具。</p>
<h3 id="濒死逃亡"><a href="#濒死逃亡" class="headerlink" title="濒死逃亡"></a>濒死逃亡</h3><p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/04taowang.jpg" alt="濒死逃亡"></p>
<h3 id="Gank战术行为"><a href="#Gank战术行为" class="headerlink" title="Gank战术行为"></a>Gank战术行为</h3><p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/05gankact.jpg" alt="Gank战术行为"></p>
<p>每个英雄都需要单独编写此子树。首先搜寻最优攻击目标，而后检测是否能用技能组合一次秒之。</p>
<ul>
<li><strong>最优技能释放目标搜索</strong></li>
</ul>
<p>满足以下条件的单位应该优先被锁定：</p>
<p>1.HP较低</p>
<p>2.AP或者MP较高</p>
<p>3.物理或魔法护甲较低</p>
<p>4.处在友方其他英雄攻击范围内</p>
<p>我们可以使用如下计算公式(本文里面的任何公式都不一定是最优解的，但都满足定性的设计要求)：</p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/06gongshi.png" alt="最优技能释放目标搜索"></p>
<p>其中a,b为参数，AllyNearBy为敌方英雄600码内我方英雄数量，每增加一个盟友，敌人的诱惑程度增加b。推荐参数值a=0.7, b=0.3</p>
<p>技能是否使用只对最优释放目标进行考虑。</p>
<h3 id="推兵线"><a href="#推兵线" class="headerlink" title="推兵线"></a>推兵线</h3><p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/07tui.jpg" alt="推兵线"></p>
<p>英雄磨血节点需要考虑收益，计算公式：</p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/08gongshi.jpg" alt></p>
<p>收益值要考虑率较多因素，包括敌我双方血量，敌方英雄的同盟单位，收益值可能为负值。</p>
<h3 id="执行AI行动指令"><a href="#执行AI行动指令" class="headerlink" title="执行AI行动指令"></a>执行AI行动指令</h3><p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/09zhixing.jpg" alt></p>
<p>AI行动指令一般都是通过行为树之外的全局AI脚本来产生，并通知给AI行为树。常见的使用方式是，用一个全局AI脚本来产生各种指令，将指令传递给行为树，实现全局AI控制单位。</p>
<h2 id="AI事件响应"><a href="#AI事件响应" class="headerlink" title="AI事件响应"></a>AI事件响应</h2><h3 id="英雄躲避塔的攻击"><a href="#英雄躲避塔的攻击" class="headerlink" title="英雄躲避塔的攻击"></a>英雄躲避塔的攻击</h3><p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/10duobi.jpg" alt></p>
<p>避免英雄冲塔行为。</p>
<h3 id="全局GankAI"><a href="#全局GankAI" class="headerlink" title="全局GankAI"></a>全局GankAI</h3><p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/11gankai.jpg" alt></p>
<p>周期计算Gank形势。通知AI是否该Gank或者集体逃亡。</p>
<h3 id="救援塔"><a href="#救援塔" class="headerlink" title="救援塔"></a>救援塔</h3><p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/12jiuyuan.jpg" alt></p>
<p>当塔受到攻击时触发，用来产生AI指令，控制AI行为。</p>
<h3 id="兵线分布调整"><a href="#兵线分布调整" class="headerlink" title="兵线分布调整"></a>兵线分布调整</h3><p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/13bingxian.jpg" alt></p>
<p>当游戏运行时间超过6分钟时，AI要开始抱团，强推一路，之后每三分钟都要进行一次抱团检测。</p>
<p>兵线危机值计算：</p>
<p>兵线局势需要考察的因素：英雄数量，士兵数量，塔的数量，前塔的HP，推荐公式：</p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/14gongshi.jpg" alt></p>
<p>其中a,b,c为参数，Lane表示兵线1,2,3。对应10v10游戏推荐参数设置：a=8, b=2, c=6, d=0.2,e=20</p>
<p>兵线危机值可以是负值，危机值越高则兵线越危险，值越低则兵线越安全。我们每10秒计算一次兵线危机值，根据兵线的状况来决定是否援助和抱团。</p>
<p>抱团是一个较为稳定的行为，我们设定每次防守抱团之后都要锁定切换兵线行为3分钟，进攻抱团锁定2分钟。</p>
<p>从另外两条兵线抽调英雄到最危险兵线。派遣数量服从规律：抽调后兵线上 我方英雄数目/敌方英雄数目&gt;0.65(参数)，尽可能多抽调英雄，但也确保不会让被抽调的兵线变得很不安全。派遣数目可以是0，表示全线吃紧，每条兵线都无法抽调英雄去支援其他兵线。初期，每条兵线最少也要保留一个英雄。</p>
<h2 id="Gank详解"><a href="#Gank详解" class="headerlink" title="Gank详解"></a>Gank详解</h2><h3 id="Gank行为基本设定"><a href="#Gank行为基本设定" class="headerlink" title="Gank行为基本设定"></a>Gank行为基本设定</h3><ul>
<li>首先要明确几个设计前提：</li>
</ul>
<p>1.Gank行为优先级要高于单体行为优先级，或者说，Gank行为执行期间会屏蔽掉大多数单体AI行为。</p>
<p>2.Gank行为需要考虑到局部范围内(比如说整个屏幕)所有单位(包括敌方)，而后控制所有我方英雄一起行动。</p>
<p>3.Gank AI控制下的机器人可能会表现出和单体AI完全不一致的行为，比如肉可能直接冲到敌人人堆中，吸收仇恨，至死方休;ADC和APC最优先的策略可能不是输出，而是控制;部分机器人输出伤害优先级要高于逃避危险。</p>
<p>4.Gank行为并非常态。达成一定条件之后才会触发。比如某个时刻敌我力量对比呈现一边倒</p>
<ul>
<li>Gank小队的生成</li>
</ul>
<p>Gank是局部小团队行为。必须考察周边敌我英雄和塔的个数，英雄和塔的潜在杀伤。Gank是个局部行为，只有距离很近的那些单位才会被认为是处于同一个Gank小组内。Gank小组是个动态变化的单位组。需要每隔一段时间重新生成一次。</p>
<p>生成方案：</p>
<p>寻找Gank中心英雄，Gank中心英雄只是根据位置搜索产生的，并不意味着它们会在Gank中处于核心地位。每隔一个周期(2秒，参数)先遍历某阵营场上全部英雄，统计这些英雄身边敌对英雄的数目。并按照递减顺序排列。身边敌对英雄越多，该英雄越可能处于Gank中心位置。按顺序遍历己方英雄(只遍历身边有敌对英雄的)，如果它们还未参与Gank，则以该英雄为中心，在一定半径(2000，参数)内搜索敌我未参与Gank的英雄，将盟友英雄写入Gank小队，并标记它们已经参与Gank了，将敌方英雄写入Gank目标小队(目标小队并不是敌方的实际Gank小队，敌方的实际Gank小队生成方式和我方一致)。如此，所有可能正处于交战状态的英雄就按照区域划分到了不同的Gank小组。</p>
<ul>
<li>Gank的发起和结束</li>
</ul>
<p>Gank小队是动态生成的，每一时刻Gank小队都是存在的，但发起Gank行为是需要条件的。</p>
<p>每隔一段时间要检测一下Gank小队的实力对比.</p>
<ol>
<li><p>如果我放Gank小队实力明显强于目标敌方小队，则发动Gank，并锁定5(参数)秒。Gank期间英雄优先执行Gank AI，屏蔽掉单体行为。Gank结束锁定后。重新生成Gank小组，重新判断形势，决定是否发起新的Gank。</p>
</li>
<li><p>当我方Gank小队实力明显弱于敌方时，集体执行撤退到己方前沿塔。但并不进入Gank行为。</p>
</li>
<li><p>均衡局面，如果有敌方单位可秒(可秒的含义是，gank小组的输出期望是目标单位hp的1.6(参数)倍)，则立刻发动Gank。否则调整我方站位，综合防御最强的英雄位置保持不变，脆皮远离敌小队中心，但不能离开坦克超过(1000参数)。调整站位是单体AI行为，战略AI通过参数来控制单体行为(发送指令buff，发送目标位置)。</p>
</li>
</ol>
<h3 id="技能伤害量化"><a href="#技能伤害量化" class="headerlink" title="技能伤害量化"></a>技能伤害量化</h3><p>如果希望AI精准的释放技能，量化技能伤害是至关重要的。并不是所有技能都是直接立即伤害的，AI要怎么理解自己的被动技能和buff技能?</p>
<p>我们做的处理是：</p>
<p>l 默认在一次Gank周期中AI可以普通攻击三次，或者5秒。</p>
<p>l 将被动技能，比如暴击和加速之类的，直接量化为三次攻击或5秒攻击中的伤害收益。</p>
<p>l 晕眩技能根据晕眩时间量化成额外伤害百分比。</p>
<p>l 辅助技能仅仅起加强队友作用的，伤害量化为0</p>
<p>当技能全部量化成具体数字之后，就能计算每个英雄在单次Gank中的伤害输出期望值了。</p>
<ul>
<li><strong>英雄威胁值</strong></li>
</ul>
<p>我们用英雄威胁值来表征英雄在单次Gank中的伤害输出期望值。</p>
<ul>
<li>威胁值的计算：</li>
</ul>
<p>首先遍历场上所有英雄，根据英雄技能等级和CD状态预估出来技能的三种伤害(物理，魔法，真实)数据。</p>
<p>对峙双方如果威胁值总和差别很大(参数60%)，则认为非均衡局面出现。优势一方会立刻发起Gank，进入团战模式。而劣势一方会立刻进入集体撤退状态。</p>
<p>威胁值相差不是很大时，英雄表现为单兵行动。此时威胁值的主要作用是敌对目标选择。</p>
<h3 id="GankTarget选择"><a href="#GankTarget选择" class="headerlink" title="GankTarget选择"></a>GankTarget选择</h3><p>GankTarget的选择方式——寻找最具吸引力的敌方单位，改进版的吸引力公式：</p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/MOBAAI/15gongshi.jpg" alt></p>
<p>这个公式综合考虑的因素有：敌人是否高AD或者高AP?物理护甲和魔法护甲如何?当前血量?我方集火的情况下，伤害总输出能杀死他几次?</p>
<p>最大吸引值得敌方英雄会成为Gank小组的共同目标</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>在本文中，我们按照从零开始逐步展开，完整描述了MOBA英雄AI的设计流程。限于篇幅，我们仅仅描述了最核心的框架，诸多细节都未展开。在手游 MOBA《全民超神》项目中，按照这个框架，我们在短短一个月时间内就实现了英雄AI。</p>
<p>本方案原创了两个核心设定：Gank和技能伤害量化。</p>
<p>Gank的设定让AI能够有效的躲避危险，也能很精准的捕捉战机，完成很多让人赞叹的绝妙击杀。</p>
<p>伤害量化，让AI理解自己技能的特性。对AI行为收益优化帮助很大。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/23/游戏中的经典AI设计：MOBA英雄AI设计分享/" data-id="ckrnaka3b0011cguku0d48tqq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MOBA/">MOBA</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/游戏策划/">游戏策划</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-枪剑士职业介绍及史诗武器分析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/28/枪剑士职业介绍及史诗武器分析/" class="article-date">
  <time datetime="2018-06-27T17:10:21.000Z" itemprop="datePublished">2018-06-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DNF/">DNF</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/28/枪剑士职业介绍及史诗武器分析/">枪剑士职业介绍及史诗武器分析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="枪剑士职业介绍"><a href="#枪剑士职业介绍" class="headerlink" title="枪剑士职业介绍"></a>枪剑士职业介绍</h1><p>暗刃是枪剑士的转职职业之一，伤害类型为物理百分比，在技能形态方面将枪术和剑术充分结合，有着比较华丽的多段攻击；枪术形态与漫游枪手比较相似，剑术在部分技能的形态上与剑魂有些相似，整体看来是一个为帅而生的职业。想必也有比较多的玩家做好了玩暗刃的准备，那么本文就从Buff技能、装备发展等方向，来为各位分析一下“暗刃”这一帅气的职业。</p>
<h2 id="暗刃"><a href="#暗刃" class="headerlink" title="暗刃"></a>暗刃</h2><ul>
<li>他不仅帅，还能当25仔混团</li>
</ul>
<h3 id="技能分析"><a href="#技能分析" class="headerlink" title="技能分析"></a>技能分析</h3><h4 id="Buff技能-战术指示"><a href="#Buff技能-战术指示" class="headerlink" title="Buff技能 战术指示"></a>Buff技能 战术指示</h4><p>​战术指示的效果是增加基本攻击力和技能攻击力，每级成长率为2%，学习10级时可增加30%技能攻击力；同时能为队友带来固定的25%技能攻击力加成（25仔混团能力get）。30%的Buff基准在所有职业里面算是比较低的，先不说别的，枪剑士其他三个转职职业的Buff基准都是40%，所以暗刃在Buff技能的倍率上比其他职业差了一些。</p>
<p>​暗刃可以通过异界[6]套装、以及安徒恩传说武器来提升Buff技能的属性值，CQB初级战术[6]套装可使战术指示技能攻击力增加量+10%，传说长刀火焰荡漾可使战术指示技能攻击力增加量+7%。最初的换装方式，可以使用：CQB[6]套装、火焰荡漾、以及其他增加技能等级的装备，整体说来是比较容易达成的。同时换装装备的效果只对自己有效，不管怎样换装，战术指示为队友带来的加成数值固定为25%。</p>
<h4 id="被动技能分析"><a href="#被动技能分析" class="headerlink" title="被动技能分析"></a>被动技能分析</h4><p>​除了Buff技能之外，暗刃在二觉之前共有3个增加伤害的被动技能。[长刀精通]将武器类型定为了长刀，可增加武器物理攻击力、命中率，10级时的精通基准为25%物理攻击力、5%命中率。[暗刃战略]可增加移速、物理暴击伤害增加量、以及物理暴击率，10级精通时大约可增加30%左右的物理暴击伤害增加量。</p>
<p>一觉被动[B.G枪刃改造]可增加基本攻击力和技能攻击力，对攻速也有一定的加成。这里由于我的角色等级暂时不够，不能看到每个技能精通之后的数据。但从整体看来，这三个被动技能在除伤害加成之外，为暗刃带来了攻速、移速、命中率、和物理暴击率的加成，较高的速度加成使暗刃具备了优秀的打击手感，比较符合这个职业“帅”的特点。</p>
<h4 id="输出技能简单分析"><a href="#输出技能简单分析" class="headerlink" title="输出技能简单分析"></a>输出技能简单分析</h4><p>​暗刃的输出技能分为枪术技能和剑术技能，Hit次数整体较多，在部分怪物的破防上有着一定的优势。输出距离偏向于中、近程，部分技能有抓取效果，在掌握每个技能的判定、位移之后，可以轻松地打出流畅程度较高的连招。但仅从目前可见的数据看来，暗刃的技能百分比数值并不高，同时精通武器长刀的基础物攻也不高，要想赶上其他百分比较高的职业，还需要在武器强化方面下更多的功夫。</p>
<h3 id="武器分析"><a href="#武器分析" class="headerlink" title="武器分析"></a>武器分析</h3><p>​暗刃的精通武器是长刀，最终的毕业武器自然是圣耀救赎长刀。但圣耀武器对于一个刚出的职业而言还比较遥远，在此之前，自制史诗轮回之悖论、深渊史诗鲜血猎杀这两把武器都可以作为毕业武器使用。</p>
<p>两把武器算是各有各的有点，在搭配万世、上元、铁马这类高属强防具时，鲜血猎杀要稍微强一些。需要注意的是，轮回之悖论的技能等级加成效果还不完整（目前只加1级一觉），等出到枪剑士二觉的时候，这把武器会加入两个二觉技能的等级加成效果。</p>
<h3 id="防具选择分析"><a href="#防具选择分析" class="headerlink" title="防具选择分析"></a>防具选择分析</h3><p>​暗刃的精通防具是轻甲，以防具B套的眼光来看，轻甲超大陆套装兼顾伤害与速度，在属性加成上比较符合暗刃的职业特点，所以暗刃在选择防具时可以优先考虑超大陆套装。除此之外，板甲B套和布甲B套也比较适合暗刃，装备成型后的暗刃基本是依靠大技能输出，小技能的伤害不太理想；在大技能伤害提升方面，布甲B套则是相对优秀的。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>在枪剑士初期，能说的东西基本就只有这么多了，这里再简单说一下暗刃和特工的不同：首先在技能形态方面，虽然两个职业都是结合枪术与剑术、有着华丽技能形态的职业，但暗刃的输出距离算是中、近程，而特工则更偏向于近程；稍微说得形象一点，暗刃给人的感觉更像是漫游枪手，而特工除了拥有一些漫游枪手的特点外，还拥有一些剑豪的特点。在伤害方面，特工的技能百分比高于暗刃。那么新职业暗刃的技能、装备分析就到此结束，感谢您的阅读。​​​​</p>
<h2 id="特工"><a href="#特工" class="headerlink" title="特工"></a>特工</h2><ul>
<li>分析特工的技能换装与装备发展，这是个帅与伤害并存的职业</li>
</ul>
<p>绝命谍影（特工）是枪剑士的又一个转职，在技能形态上与暗刃有些相似，缺少了解的玩家或许容易将这两个职业混淆。事实上，<strong>特工的技能大都是近距离的剑术攻击</strong>，枪术攻击相对较少，这与枪术、剑术几乎对半分的暗刃是有区别的。特工的技能百分比数值较高，同时也是<strong>枪剑士四个转职中唯一没有辅助能力的职业</strong>，种种特点都注定特工只能成为一个主C。那么想要玩好这样一个帅气的主C，我们在初期应该注意些什么问题呢？下面就来为各位讲解一下。</p>
<h3 id="技能分析-1"><a href="#技能分析-1" class="headerlink" title="技能分析"></a>技能分析</h3><h4 id="Buff技能-特工使命"><a href="#Buff技能-特工使命" class="headerlink" title="Buff技能 特工使命"></a>Buff技能 特工使命</h4><p>​Buff特工使命可增加基本攻击力和技能攻击力，1级时的增加量为22%，成长率为每级2%，学到10级时则是40%。后续可以使用等级加成装备、异界套、换装武器、以及裂魂气息散件来继续增加[特工使命]的属性值。</p>
<p>​异界装备-特岚希的绝杀瞬间[6]套装可使[特工使命]的技能攻击力增加率+10%，85级传说小太刀-特岚希的熔岩心脏可使[特工使命]的技能攻击力增加量+10%。初期可以使用特岚希[6]套装、熔岩心脏、等级增加装备来达成一个速成换装，随着后期技能宝珠、光环、称号及宠物的增加，可以慢慢将等级加成装备换成裂魂气息散件装备。换装方面可以说的东西不多，下面继续来看看被动技能。</p>
<h4 id="特工被动技能分析"><a href="#特工被动技能分析" class="headerlink" title="特工被动技能分析"></a>特工被动技能分析</h4><p>​特工目前有着三个增加伤害的被动技能：[小太刀精通]可增加百分比物理攻击力和命中率，10级的增加基准分别为15%、8%。[特工秘技]可增加物理暴击率和暴击伤害增加量，10级的基准分别是15%、30%，同时可为特工增加一个类似于神枪手空中射击的“后跳攻击”形态。</p>
<p>一觉被动[使命觉悟]可增加基本攻击力和技能攻击力，同时可增加特工的寻敌范围，特工的部分技能有着“标记”敌人的效果，而寻敌范围大概指的是被标记敌人与特工的距离。除了这三个增加伤害的被动技能之外，特工还拥有一个不加伤害、却十分重要的被动技能——[迅步闪避]：</p>
<p>​学习此技能后，可在指定技能与[迅步突袭]之间进行柔化，施放迅步突袭后，特工会获得短时间的无敌状态。在实战中灵活运用此技能的无敌效果，可以有效防止连招被打断。</p>
<h4 id="特工输出技能分析"><a href="#特工输出技能分析" class="headerlink" title="特工输出技能分析"></a>特工输出技能分析</h4><p>​特工技能的百分比数值较高，一觉技能[噬血绝杀]在1级时就拥有了47558%的百分比（其他三个职业都是30000%左右）。有Hit数较高的多段攻击技能，也有Hit数较低的单段高伤害技能，无论是技能的百分比数值、还是技能的持续与爆发，与其他三个枪剑士转职比起来，特工都有一定的优势。</p>
<h3 id="特工输出武器分析"><a href="#特工输出武器分析" class="headerlink" title="特工输出武器分析"></a>特工输出武器分析</h3><p>​特工的精通武器类型为小太刀，在制作出圣耀救赎小太刀之前，深渊史诗贝尔玛尔之剑、自制史诗纳斯卡：禁忌的遗产都可以作为次一级的毕业武器使用。两把武器的水准比较接近，在50-80级技能的伤害上，贝尔玛尔之剑的优势要大一些。升到90级可直接获得一把纳斯卡，在有纳斯卡的前提下，没有必要刻意地去刷贝尔玛尔之剑。</p>
<h3 id="特工防具B套分析"><a href="#特工防具B套分析" class="headerlink" title="特工防具B套分析"></a>特工防具B套分析</h3><p>​特工的精通防具类型是皮甲，同时特工在实战中也比较容易抓破招，深渊恶魔套装可以作为优先选择的装备。同时从特工的技能形态和对速度的要求来看，超大陆套装和七宗罪套装也都在可选范围内，这两套防具的伤害在同等打造水平下虽然不及深渊恶魔套装，但二者的手感都比深渊恶魔套装要好，在这个不缺伤害的版本，舍弃一点伤害来换取更好的手感，也不是不可以。</p>
<p>当然，对于难以直接点出一套史诗防具的玩家而言，最后选哪套还是取决于在深渊中齐了哪套。总之五套防具B套对特工而言都能用，优先考虑皮甲，其次考虑轻甲和板甲，布甲和重甲则作为最后考虑。</p>
<p>至于前期的过渡防具套装，可以在魔战、天御、战术这三套防具之中进行选择，在手感方面：魔战套的手感最佳，战术套略微次之，天御套的手感与前两者比起来则相对较差。在伤害方面：单看技能伤害数据是天御套最高，但魔战套在实战中可以通过重置技能来提升伤害总量，在实战伤害总量上赶上天御，也不是不可能的事情。要给出一个选择顺序的话，充分考虑伤害与手感之后：魔战＞战术≥天御。</p>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h3><p>绝命谍影（特工）目前在韩服算是一线职业，也是枪剑士四个转职中排名最靠前的，虽然韩服的职业排名不一定适用于国服，但这也能在一定程度上体现特工输出能力的强大。如果真的用心去玩了，想必这个职业是不会令我们失望的。绝命谍影（特工）的职业分析就到此结束，感谢您的阅读。​​​​</p>
<h1 id="枪剑士自制史诗属性"><a href="#枪剑士自制史诗属性" class="headerlink" title="枪剑士自制史诗属性"></a>枪剑士自制史诗属性</h1><ul>
<li>能按武器的强度来选择职业吗？</li>
</ul>
<p>枪剑士史诗武器的属性已经在国服实装了，在枪剑士版本中，角色在达到90级之后可以直接获得一把自制史诗武器，部分玩家或许是想根据四把自制史诗强度，来对枪剑士的转职职业进行选择。那么下面就对枪剑士四把自制史诗的提升率进行一个分析计算。</p>
<h2 id="枪剑士自制史诗武器分析-装备搭配前提"><a href="#枪剑士自制史诗武器分析-装备搭配前提" class="headerlink" title="枪剑士自制史诗武器分析 装备搭配前提"></a>枪剑士自制史诗武器分析 装备搭配前提</h2><p>枪剑士是一个新职业，对任何玩家而言，<strong>不可能一开始就有防具B套、恍惚套等装备</strong>。但是，一把武器在<strong>不设装备搭配前提时，所得出的提升率难以符合实战情况</strong>，并且在这90版本的中后期，把装备搭配设为魔战、冰雪也是不太合适的，所以这里还是把装备前提设为：七宗罪套装、+10恍惚套、三神器。但做出这样的设定并不是说我的枪剑士在刚开始玩时就有这些装备，而是为了更加准确地去分析武器的提升率，希望各位能够理解。</p>
<h2 id="长刀-轮回之悖论"><a href="#长刀-轮回之悖论" class="headerlink" title="长刀 轮回之悖论"></a>长刀 轮回之悖论</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/zcd.png" alt="轮回之悖论"></p>
<p>​自制史诗长刀（对应转职为暗刃）可增加21%白字附加伤害、以及30%物理攻击力；同时可增加1级<strong>[电光飞掠]</strong>，此技能等级加成效果和之前在韩服所看到的有所不同，应该是<strong>没有显示增加二觉技能的部分</strong>（因为周年庆版本是枪剑士的一觉版本，二觉技能还不存在），在进行提升率计算时，暂时不将这条效果考虑进去。整合长刀轮回之悖论除技能等级加成之外的属性：</p>
<p>白字附加伤害+21%：其他白字伤害加成数值取42%（称号、宠物及宠物装备的27%，七宗罪头肩的15%）；不破招提升率为14.79%（1.63/1.42），白字双破招提升率为<code>17.21%</code>。物理攻击力+30%：其他百分比物攻加成数值为32%（+10清泉流响的15%，七宗罪下装的17%）；提升率为<code>22.73%</code>（1.62/1.32）。那么可以得出，长刀在不计技能等级加成时的提升率为：</p>
<blockquote>
<p>1.2273*1.1479=<code>1.4088</code>（不破招）</p>
</blockquote>
<blockquote>
<p>1.2273*1.1721=<code>1.4385</code>（白字双破招）</p>
</blockquote>
<p>长刀轮回之悖论在不计技能等级加成效果时，在不破招下的提升率为<code>40.88%</code>，在白字双破招下的提升率为<code>43.85%</code>，这样的结果不是很理想。但由于技能等级加成效果的不确定，所以也不能仅凭此数值来对长刀的伤害提升能力进行判断。那么这里就先对长刀的提升率保持观望，待技能等级加成效果确定之后再做定论。</p>
<h2 id="小太刀-纳斯卡：禁忌的遗产"><a href="#小太刀-纳斯卡：禁忌的遗产" class="headerlink" title="小太刀 纳斯卡：禁忌的遗产"></a>小太刀 纳斯卡：禁忌的遗产</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/zxtd.png" alt="纳斯卡：禁忌的遗产"></p>
<p>​自制史诗小太刀可增加30%力智、以及30%额外暴击伤害，同时可增加5%双速和7%施放速度。小太刀在设定上是枪剑士转职——特工的武器，其在物魔加成数值上较为均衡。整合小太刀的所有伤害提升属性：</p>
<p>力量、智力+30%：其他百分比力智加成数值取作33%（黄金杯的18%、七宗罪上衣的15%），忽略力智系数；提升率为<code>22.56%</code>（1.63/1.33）。额外暴击伤害+30%：其他暴击伤害数值为20%（恍惚套），其他额外暴击伤害数值为25%（七宗罪[3]套装）；提升率为<code>20.69%</code>（1.75/1.45）。最后可以直接得出，小太刀纳斯卡的提升率为：</p>
<blockquote>
<p>1.2256*1.2069=<code>1.4792</code></p>
</blockquote>
<p>小太刀纳斯卡的提升率为47.92%，算得上90级史诗武器里面的中上水准。或许部分玩家在了解特工的技能形态之后，早已下定了玩特工的决心，那么就这把自制史诗武器的伤害提升能力而言，也基本算是带的动特工。</p>
<h2 id="重剑-苍月伯爵"><a href="#重剑-苍月伯爵" class="headerlink" title="重剑 苍月伯爵"></a>重剑 苍月伯爵</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/zzj.png" alt="苍月伯爵"></p>
<p>​自制史诗重剑（对应转职为佣兵）可增加35%额外黄字伤害、以及25%最终伤害；攻击时有25%几率召唤蝙蝠群。重剑在基础属性和手感方面，都与鬼剑士的巨剑有着异曲同工之妙，能带动这把武器的职业，是技能形态较为简约的佣兵。整合重剑苍月伯爵的所有属性：</p>
<p>额外黄字伤害+35%：其他黄字伤害数值为20%（恍惚套），其他额外黄字伤害数值为15%（七宗罪鞋）；提升率为<code>25.93%</code>（1.7/1.35）。最终伤害+25%：其他最终伤害加成数值为50%（七宗罪腰带的17%、英雄王的18%、+10氤氲之息的15%）；提升率为<code>16.67%</code>（1.75/1.5）。也可以很直接地得出，重剑苍月伯爵的提升率为：</p>
<p>1.2593*1.1667=<code>1.4692</code></p>
<p>重剑苍月伯爵的提升率为<code>46.92%</code>，也比较接近中上水准。同时重剑基础物攻较高，这与其他几把武器比起来也算是一种优势。但在不确定枪剑士每个转职职业的武器类型是否唯一的情况下，难以进行跨武器类型的对比，这里就暂时不说了。</p>
<h2 id="源力剑-反乌托邦之终结"><a href="#源力剑-反乌托邦之终结" class="headerlink" title="源力剑 反乌托邦之终结"></a>源力剑 反乌托邦之终结</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/zylj.png" alt="反乌托邦之终结"></p>
<p>​自制史诗源力剑（对应转职为源能专家）可增加18%智力、以及44%额外黄字伤害，同时可增加10%移速。源力剑是魔法类武器，源能专家也是四个枪剑士转职中唯一的魔法职业，整合自制史诗源力剑的所有伤害加成效果：</p>
<p>智力+18%：其他百分比智力加成数值取作33%，忽略智力系数；提升率为<code>13.53%</code>（1.51/1.33）。额外黄字伤害+44%：其他黄字伤害、额外黄字伤害仍然为20%、15%；提升率为<code>32.59%</code>（1.79/1.35）。最后可以得出自制史诗源力剑的提升率为：</p>
<blockquote>
<p>1.1353*1.3259=<code>1.5053</code></p>
</blockquote>
<p>自制史诗源力剑的提升率为<code>50.53%</code>，此提升率数值就要稍微理想一些了。但源能专家作为魔法职业，在技能造型和手感方面，与其他三个职业比起来确实要稍微差一点（当然这点是因人而异的，每位玩家都有不同的见解），所以想玩源力专家的玩家或许要相对少一些。策划可能是意识到了这一点，才把源力专家的自制史诗设定得相对较强。</p>
<h2 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h2><p>仅从提升率的数值看来，源力剑（源力专家）的提升率是最高的，小太刀（特工）和重剑（佣兵）则紧随其后；长刀（暗刃）在不考虑技能等级加成效果时，算是四把武器中相对较差的；但它的技能等级加成效果目前还未确定下来，这多半是由一觉、二觉造成的：</p>
<p>因为周年庆仅仅是<strong>枪剑士的一觉版本</strong>，如果在长刀的技能等级加成效果中包含二觉之后的技能，那么此时确实无法显示出来。我估计在长刀的技能等级加成效果真正确定之后，它的提升率也会达到不弱于前面三把武器的水准。所以到头来，枪剑士的四把自制史诗在伤害提升率上可以说是差不多的，我们大可不必根据武器的强度去选择转职职业，遵循自己的心意就好！</p>
<h1 id="枪剑士深渊史诗武器介绍及分析"><a href="#枪剑士深渊史诗武器介绍及分析" class="headerlink" title="枪剑士深渊史诗武器介绍及分析"></a>枪剑士深渊史诗武器介绍及分析</h1><ul>
<li>新职业深渊武器的水准如何？</li>
</ul>
<p>在说完枪剑士的自制史诗武器之后，有部分玩家可能觉得自制史诗的提升率不够理想，还是将武器目标定为了90级深渊史诗武器，那么本文就来为各位说一说枪剑士的90级深渊史诗武器。在属性方面，<strong>枪剑士的深渊史诗确实略强于自制史诗</strong>，并且部分武器的属性设计也具有一些新意，下面就来详细地分析一下每把武器的提升率。</p>
<h2 id="提升率分析-装备搭配前提"><a href="#提升率分析-装备搭配前提" class="headerlink" title="提升率分析 装备搭配前提"></a>提升率分析 装备搭配前提</h2><p>在以往的分析中，我都将装备搭配前提中的防具设为了七宗罪套装，虽然只是将其作为一个计算的前提条件，但也确实有部分玩家觉得，把每个职业的防具都设为七宗罪套装的做法不太合适。那么在这里我就试着将每个职业的精通防具B套作为搭配标准，首饰和特殊装备还是继续设为+10恍惚套和三神器。不过这样一来，就不能进行武器之间的横向对比了。</p>
<h2 id="长刀-鲜血猎杀"><a href="#长刀-鲜血猎杀" class="headerlink" title="长刀 鲜血猎杀"></a>长刀 鲜血猎杀</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/scd.png" alt="鲜血猎杀"></p>
<p>​鲜血猎杀可<strong>增加26点所有属性强化</strong>，可<strong>增加18%属性白字伤害（取自身最高属强）</strong>、以及<strong>10%最终伤害</strong>，同时自带火属性攻击。职业暗刃的精通防具是轻甲，这里就将防具设为超大陆套装，整合长刀鲜血猎杀的所有属性：</p>
<p>所有属性强化+26点：基础属强数值设为220点，不计怪物的属性抗性，此时暂不考虑属性白字（后面会作考虑）；提升率为<code>5.91</code>（26/440）。最终伤害+10%：其他最终伤害数值取作68%（超大陆套装的35%、氤氲之息的15%、英雄王的18%），提升率为<code>5.95%</code>（1.78/1.68）。</p>
<p>属性白字附加伤害+18%：此时的属强数值为246点（基础220点、武器本身+26点），18%属性白字所对应普通白字的数值为<code>38.13%</code>（18%*（246/220+1））；其他白字伤害加成数值为49%（超大陆套装的22%，称号、宠物及装备的27%）。可以得出此效果的提升率为：不破招<code>25.59%</code>（1.8713/1.49），白字双破招<code>29.56%</code>。最后可以得出鲜血猎杀的提升率为：</p>
<blockquote>
<p>1.0591<em>1.0595</em>1.2559=<code>1.4092</code>（不破招）</p>
</blockquote>
<blockquote>
<p>1.0591<em>1.0595</em>1.2956=<code>1.4538</code>（白字双破招）</p>
</blockquote>
<p>长刀鲜血猎杀在不破招时的提升率为40.92%，在白字双破招时的提升率为<code>45.38%</code>，整体看来只算是90级史诗武器的中等水平。但分析时所用到的属强数值其实有点低，并且枪剑士难免会经历一段防具A套时期，在万世套这类高属强防具的支撑下，鲜血猎杀的属性白字会有一个很不错的提升率。</p>
<h2 id="小太刀-贝尔玛尔之剑"><a href="#小太刀-贝尔玛尔之剑" class="headerlink" title="小太刀 贝尔玛尔之剑"></a>小太刀 贝尔玛尔之剑</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/sxtd.png" alt="贝尔玛尔之剑"></p>
<p>​贝尔玛尔之剑可<strong>增加33点所有属性强化、以及40%额外黄字伤害</strong>，可使职业<strong>特工48-80级技能等级+1</strong>。职业特工的精通防具为皮甲，这里就将防具设为深渊恶魔套装。整合贝尔玛尔之剑的所有伤害提升效果：</p>
<p>所有属性强化+33点：基础属强设为299点（原基础220点，深渊恶魔套装+79点），不考虑怪物的属性抗性；首先33点属强的基础伤害提升率为6.36%（33/519），然后它为深渊恶魔套装属性白字所带来的提升率为<code>2.02%</code>（1.8973/1.8598）；所以此效果的总提升率为<code>8.51%</code>x（1.0636*1.0202）。</p>
<p>额外黄字伤害+40%：黄字伤害数值取作20%，其他额外黄字伤害取作12%（深渊恶魔腰带）；提升率为<code>30.3%</code>（1.72/1.32）。特工48-80级技能等级+1：虽然枪剑士在刚出的时候没有二觉，但二觉也只是时间的问题，这里就按照二觉技能的一个大约倍率来计算一下此效果的提升率。在被动技能方面的提升率大约为<code>3%</code>，对50-80级主动技能的提升率大约为<code>5.5%</code>。那么最终能够得出，小太刀贝尔玛尔之剑的提升率为：</p>
<blockquote>
<p>1.0851<em>1.303</em>1.03=<code>1.4563</code>（1-45级、85级技能）</p>
</blockquote>
<blockquote>
<p>1.0851<em>1.303</em>1.03*1.055=<code>1.5364</code>（50-80级技能）</p>
</blockquote>
<p>贝尔玛尔之剑对1-45级和85级技能的提升为<code>45.63%</code>，对50-80级技能的提升为<code>53.64%</code>，整体而言比较优秀，对50-80级技能的单独提升率较高，如果特工在此等级范围内的技能的伤害占比较高的话，贝尔玛尔之剑也将成为圣耀之下的首选武器。</p>
<h2 id="重剑-恶魔协奏曲"><a href="#重剑-恶魔协奏曲" class="headerlink" title="重剑 恶魔协奏曲"></a>重剑 恶魔协奏曲</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/szj.png" alt="恶魔协奏曲"></p>
<p>​恶魔协奏曲可<strong>增加6%技能攻击力</strong>、<strong>6%力智</strong>、以及<strong>46%白字附加伤害</strong>；同时可<strong>增加6%三速、以及6%暴击率</strong>，并自<strong>带光、暗属性攻击</strong>。此武器每项效果的加成数值很有新意，一眼看去就会觉得它很“6”。职业佣兵的精通防具为重甲，这里就将防具设为娜迦王套装，上衣和头肩的强化或增幅等级设为+10。整合恶魔协奏曲的伤害加成效果：</p>
<p>技能攻击力+6%：此项效果直接乘算，提升率为6%。力量、智力+6%：其他百分比力智加成数值取作30%（黄金杯的18%、娜迦王腰带的12%），暂不考虑力智系数；提升率为<code>4.62%</code>（1.36/1.3）。</p>
<p>白字附加伤害+46%：其他白字伤害加成数值取作47%（+10娜迦王上衣的20%，称号、宠物及装备的27%）；不破招提升率为31.29%（1.93/1.47），白字双破招提升率为<code>36.22%</code>。最终得出重剑恶魔协奏曲的提升率为：</p>
<blockquote>
<p>1.06<em>1.0462</em>1.3129=<code>1.456</code>（不破招）</p>
</blockquote>
<blockquote>
<p>1.06<em>1.0462</em>1.3622=<code>1.5106</code>（白字双破招）</p>
</blockquote>
<p>恶魔协奏曲在不破招时的提升率为<code>45.6%</code>，在白字双破招时的提升率为<code>51.06%</code>，虽然佣兵的精通防具是重甲，但从他的技能形态和对速度要求方面来看，也不一定要选择娜迦王。但只要防具不是皮甲B套，恶魔协奏曲都算是一把比较优秀的武器，在<strong>白字双破招时的提升率略高于自制史诗重剑</strong>。</p>
<h2 id="源力剑-阿迪奥斯"><a href="#源力剑-阿迪奥斯" class="headerlink" title="源力剑 阿迪奥斯"></a>源力剑 阿迪奥斯</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/sylj.png" alt="阿迪奥斯"></p>
<p>​阿迪奥斯可<strong>增加10%最终伤害、以及30%额外暴击伤害</strong>；<strong>攻击时有30%几率使所有职业50-85级技能等级+1，最多叠加2次</strong>。50-85级算是技能等级加成效果中的一个新的等级分布，这也会<strong>为此武器赋予一个较具新意的伤害加成能力</strong>。职业源能专家的精通防具是布甲，这里就将防具设为布甲B套。整合阿迪奥斯的所有伤害加成效果：</p>
<p>最终伤害+10%：其他最终伤害数值取作68%（光怪陆离套装的35%、+10氤氲之息的15%、英雄王的18%）；提升率为<code>5.95%</code>（1.78/1.68）。额外暴击伤害+30%：暴击伤害数值取作20%，其他额外暴击伤害取布甲B套腰带的16%；提升率为<code>22.06%</code>（1.66/1.36）。</p>
<p>50-85级技能等级+2：被动技能（两级2觉被动）提升率大约为3%，50-80级技能的单独提升大约为11%，85级技能的单独提升大约为26%。最后可得出阿迪奥斯的提升率为：</p>
<blockquote>
<p>1.0595<em>1.2206</em>1.03=<code>1.332</code>（1-45级技能）</p>
</blockquote>
<blockquote>
<p>1.0595<em>1.2206</em>1.03*1.11=<code>1.4785</code>（50-80级技能）</p>
</blockquote>
<blockquote>
<p>1.0595<em>1.2206</em>1.03*1.26=<code>1.6783</code>（85级技能）</p>
</blockquote>
<p>阿迪奥斯对1-45级技能的提升为<code>33.2%</code>，对50-80级技能的提升为<code>47.85%</code>，对85级技能的提升为<code>67.83%</code>。整体而言，<strong>此武器对小技能的提升相对不理想，对50-80级大技能的提升比较中规中矩，对85级二觉技能的提升十分可观</strong>。自制史诗源力剑的提升率也是比较不错的，至于这把武器和自制史诗到底谁更强一些，就要等源能专家二觉之后，根据各技能的伤害占比来进行判断了。</p>
<h2 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h2><p>​枪剑士的四把90级深渊史诗都算是各有各的特点，<strong>长刀的属性白字有着不错的发展空间，小太刀对50-80级大技能的提升较大，重剑的整体伤害提升率比较理想，源力剑有着可观的二觉伤害、对50-80级大技能的提升也不小</strong>。整体而言，这四把武器在<strong>属性设计方面还比较令人满意</strong>，<strong>每把都可以带着过渡到圣耀</strong>。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/28/枪剑士职业介绍及史诗武器分析/" data-id="ckrnaka2y000ocgukifu7xqea" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DNF/">DNF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/游戏数值分析/">游戏数值分析</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/游戏策划/">游戏策划</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-超时空装备提升率分析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/28/超时空装备提升率分析/" class="article-date">
  <time datetime="2018-06-27T17:09:28.000Z" itemprop="datePublished">2018-06-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DNF/">DNF</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/28/超时空装备提升率分析/">超时空副本装备提升率分析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>超时空团队副本、以及团队副本的所有新史诗装备都已经在国服实装了，超时空副本史诗装备的强度应该是各位最关心的问题。在此次全新的团队副本中，我们可以获得新的武器、首饰、特殊装备，其中首饰的单件部位应该是沿用了韩服魔兽首饰的单件属性。想必各位最近都在为未来的装备搭配方向而感到担忧，要解决这个问题，还是要从这些新装备的提升率分析开始，那么这次就先对超时空首饰的提升率进行一个分析。</p>
<h1 id="超时空首饰介绍及提升率分析"><a href="#超时空首饰介绍及提升率分析" class="headerlink" title="超时空首饰介绍及提升率分析"></a>超时空首饰介绍及提升率分析</h1><h2 id="超时空首饰分析-装备搭配前提"><a href="#超时空首饰分析-装备搭配前提" class="headerlink" title="超时空首饰分析 装备搭配前提"></a>超时空首饰分析 装备搭配前提</h2><p>既然新装备都出了，那么在装备搭配前提上也不应该停滞不前，这里就将其他装备设为：<strong>七宗罪套装、圣耀武器、海伯伦套装</strong>。为了便于进行计算，海伯伦套装直接取触发“暗”的效果。下面就来看看超时空首饰的提升率到底怎么样。</p>
<h2 id="引力：万物之拥-项链"><a href="#引力：万物之拥-项链" class="headerlink" title="引力：万物之拥 项链"></a><strong>引力：万物之拥</strong> 项链</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/neck.png" alt="引力：万物之拥"></p>
<p>​项链万物之拥可<strong>增加20%物理、魔法、独立攻击力</strong>，可增加<strong>5%双速、7%施放速度</strong>。属性构成十分简洁，将其他装备的百分比三攻加成数值取为39%（七宗罪下装+17%、黑暗祭礼+22%），项链的提升率为<code>14.39%</code>（1.59/1.39），就单件来说自然是很不错的，当然我们的分析重点并不在单件上，这里就不说太多了。</p>
<h2 id="光：无垠之昼-手镯"><a href="#光：无垠之昼-手镯" class="headerlink" title="光：无垠之昼 手镯"></a><strong>光：无垠之昼</strong> 手镯</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/hand.png" alt="光：无垠之昼"></p>
<p>​手镯无垠之昼可<strong>增加20%技能攻击力</strong>，同样可增加<strong>5%双速和7%施放速度</strong>。手镯的提升率没有太多可计算的，常规技能攻击力直接乘算，20%加成数值的提升率就是20%，从单件的角度来看，这也是一件十分优秀的强散。</p>
<h2 id="暗：无限之夜-戒指"><a href="#暗：无限之夜-戒指" class="headerlink" title="暗：无限之夜 戒指"></a><strong>暗：无限之夜</strong> 戒指</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/ring.png" alt="暗：无限之夜"></p>
<p>​戒指无限之夜可<strong>增加20%力智</strong>，在<strong>速度方面的加成与项链、手镯相同</strong>。其他装备的百分比力智加成数值取为15%（七宗罪上衣），忽略力智系数，戒指无限之夜的提升率为<code>17.39%</code>（1.35/1.15）；再在此提升率基础上考虑力智系数，将基础力量设为3500点，此时戒指的实际提升率为<code>16.23%</code>，这样的单件提升率仍然是十分理想的。</p>
<h2 id="套装-黑洞湮灭"><a href="#套装-黑洞湮灭" class="headerlink" title="套装 黑洞湮灭"></a>套装 黑洞湮灭</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/six.png" alt="套装属性"></p>
<p>​这里暂且将套装效果看成由三件首饰凑成的[3]套装，可增加19%额外黄字伤害、以及19%额外暴击伤害。此时其他装备的黄字伤害加成数值为0，其他额外黄字伤害加成数值为15%（七宗罪鞋），那么19%额外黄字的提升率为<code>16.52%</code>（1.34/1.15）。</p>
<p>同样的，此时其他装备的暴击伤害加成数值为0，其他额外暴击伤害加成数值为25%（七宗罪套装），那么19%额外暴击伤害的提升率为<code>15.2%</code>（1.44/1.25）。由于超时空首饰单件和套装所加成的属性种类不同，这里就没必要再对其进行整合了，直接将前面的提升率计算结果相乘，可得出超时空史诗首饰套装的提升率为：</p>
<blockquote>
<p>1.1439<em>1.2</em>1.1623<em>1.1652</em>1.152=<code>2.1416</code></p>
</blockquote>
<p>超时空史诗首饰套装的提升率为<code>114.16%</code>，我们先不管这个数值是高还是低，本次分析的目的在于确定以后的首饰搭配方向，那么不得不将超时空首饰的提升率，与恍惚套的提升率在同等条件下做一个比较。</p>
<h2 id="恍惚套-提升率分析"><a href="#恍惚套-提升率分析" class="headerlink" title="恍惚套 提升率分析"></a>恍惚套 提升率分析</h2><p>​恍惚套已经是我们相当熟悉的装备了，我在分析时也就长话短说。在分析恍惚套时，必须考虑的是单件部位的强化、增幅等级，这里直接将其设为+12，只考虑强化等级对其本身属性的影响（即不考虑增幅带来的力量或者智力加成），那么此时恍惚套的属性以及它们所对应的提升率为：</p>
<p>技能攻击力+17.6%：此类效果直接乘算，同时启明星基础的5%与强化的12%乘算，提升率为<code>17.6%</code>（1.05*1.12）。</p>
<p>最终伤害+17%：其他装备的最终伤害加成数值为37%（七宗罪腰带+17%、王冠非冠+20%）；提升率为<code>12.41%</code>（1.54/1.37）。</p>
<p>物理、魔法、独立攻击力+17%：其他百分比三攻加成数值为39%，提升率为<code>12.23%</code>（1.56/1.39）。</p>
<p>黄字伤害+20%：额外黄字伤害为七宗罪鞋的15%，提升率为<code>17.39%</code>（1.35/1.15）。<br>暴击伤害+20%：额外暴击伤害为七宗罪套装的25%，提升率为<code>16%</code>（1.45/1.25）。</p>
<p>部分玩家在这里肯定会问，为什么要按加算的方式来计算黄字、暴击伤害的提升率；因为<strong>黄字伤害和额外黄字伤害之间本身就是加算关系</strong>（暴击伤害同理），尤其是在将计算前提装备设定好的情况下，更应该充分考虑这种加算关系，这里也不多说了。最后不难得出，相同条件下+10恍惚套的提升率为：</p>
<blockquote>
<p>1.176<em>1.1241</em>1.1223<em>1.1739</em>1.16=<code>2.0203</code></p>
</blockquote>
<p>只考虑装备本身的属性，此时+12恍惚套的提升率为102.03%，这在相同的装备条件下，比黑洞湮灭首饰套装的提升率低了6%（2.1416/2.0203）。或许部分玩家对恍惚套提升率的认识，还停留在最初搭配防具A套的阶段，随着防具B套中最终伤害、百分比三攻、额外黄字暴击伤害数值的上升，恍惚套的提升率确实是受到了一定的影响。</p>
<p>通过提升率分析可得出，即便是+12的恍惚套（只考虑装备本身属性），也略弱于超时空首饰三件；当然，这仅仅是在七宗罪套装的搭配下所得出的结果，在防具不同时，超时空首饰、恍惚套各自的提升率都会发生一定的变化。但不管怎么变，在防具B套、海伯伦套装的搭配下，超时空首饰的提升率基本是大于等于+12恍惚套的。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>如果超时空首饰的属性确确实实是<strong>最强首饰套装</strong>。当然，其在制作方式上，也是通过恍惚套、星空套或者三无尽升级。总的说来，超时空首饰三件套虽然略强于恍惚套，但二者的差距并不大，其实可以勉强将二者并称为最强首饰套装。</p>
<p>并且两套首饰在属性加成的侧重点上有一些不同，出于对以后未知新装备的搭配考虑，各位可以在装备条件允许的情况下，保留已经打造好的恍惚套，用星空套或者三无尽来升级超时空首饰。</p>
<h1 id="超时空特殊装备三件套介绍及提升率"><a href="#超时空特殊装备三件套介绍及提升率" class="headerlink" title="超时空特殊装备三件套介绍及提升率"></a>超时空特殊装备三件套介绍及提升率</h1><ul>
<li>超时空特殊装备三件套提升率分析，与海伯伦孰强孰弱？</li>
</ul>
<p>这两天已经为各位分析过超时空武器和首饰的提升率了，那么本次就最后来说一下超时空特殊装备的提升率，也算是以此来为超时空装备的分析暂时地画上一个句号。在超时空的所有史诗装备中，特殊装备属性的确定时间是最早的，想必各位具备计算能力的玩家对此装备的提升能力已经有了一定的见解。令大部分玩家困惑的，应该是超时空特殊装备与海伯伦套装的强弱关系，以及涉及到特殊装备的装备搭配问题，那么下面我就从超时空特殊装备与海伯伦套装进行对比的角度出发，全面地分析一下这些问题。</p>
<h2 id="超时空特殊装备分析-装备搭配前提"><a href="#超时空特殊装备分析-装备搭配前提" class="headerlink" title="超时空特殊装备分析 装备搭配前提"></a>超时空特殊装备分析 装备搭配前提</h2><p>在分析超时空特殊装备的提升率时，仍然要将首饰设为恍惚套。虽然我们已经得知超时空首饰略强于恍惚套，但超时空首饰与超时空特殊装备是同一套装备，它们共同拥有[3]套装和[5]套装效果，在分析时无法准确地去确定分析所用到的基础属性，所以仍然要将首饰设为<strong>恍惚套</strong>，这里就将<strong>强化或增幅等级设为+12</strong>。防具仍然选为<strong>七宗罪套装</strong>，武器还是<strong>圣耀</strong>，下面就具体来计算一下超时空特殊装备的提升率。</p>
<h2 id="时：永恒凝滞-辅助装备"><a href="#时：永恒凝滞-辅助装备" class="headerlink" title="时：永恒凝滞 辅助装备"></a><strong>时：永恒凝滞</strong> 辅助装备</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/left.png" alt="时：永恒凝滞"></p>
<p>​辅助装备永恒凝滞有着标准数值的四维加成，可增加20点属强、以及14%额外黄字伤害。将角色属强数值设为220点，忽略怪物的属抗，并且此时没有属性白字装备，那么20点属强的提升率为<code>4.55%</code>（20/440）。</p>
<p>然后是14%额外黄字伤害：黄字伤害取恍惚套的20%，其他额外黄字伤害取七宗罪鞋的15%，那么这条效果的提升率为10.37%（1.49/1.35）。最后可以很容易地得出，永恒凝滞忽略基础力智后的单件提升率为<code>15.39%</code>（1.1037*1.0455）。仅从单件装备来看，此提升率并不理想，只算是85-90级史诗辅助装备的中等水平，但这套装备的意义也不在于单件，这里只是顺带提一提，各位不用放在心上，主要看得是套装。</p>
<h2 id="空：虚无之渊-魔法石"><a href="#空：虚无之渊-魔法石" class="headerlink" title="空：虚无之渊 魔法石"></a><strong>空：虚无之渊</strong> 魔法石</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/right.png" alt="空：虚无之渊"></p>
<p>​魔法石虚无之渊可增加75点所有属性强化，和无尽贪食之源有些相似（超时空魔法石多5点属强）。同样将基础属强数值设为220点，忽略敌人属抗，无属性白字装备的存在；魔法石的提升率为<code>17.05%</code>（75/440）。就单件提升率而言还算不错，但也没有必要为了单件属性而去制作它。</p>
<h2 id="破：万物皆灭-耳环"><a href="#破：万物皆灭-耳环" class="headerlink" title="破：万物皆灭 耳环"></a><strong>破：万物皆灭</strong> 耳环</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/ear.png" alt="破：万物皆灭"></p>
<p>​耳环万物皆灭可增加20点所有属性强化、以及14%额外暴击伤害。在属性的结构上与辅助装备有些相似，首先20点属强在相同属强数值设置下的提升率也为4.55%。然后对这14%额外暴击伤害而言，此时其他装备的暴击伤害数值为20%，其他额外暴击伤害数值为25%（七宗罪套装），那么这条效果的提升率为<code>9.66%</code>（1.59/1.45）。最后不难得出，超时空耳环的单件提升率为14.65%（1.0966*1.0455）。</p>
<ul>
<li>其实计算单件提升率的意义不大，因为单件的属强数值、额外黄字伤害数值等，最后都是要在整体分析时用总和来计算的。这里之所以算一下单件，也只想说明一下超时空特殊装备的单件属性并不强，在搭配还不完整的情况下，单件没有太大的使用意义。下面还是主要来看一下单件与套装属性的整合：</li>
</ul>
<h2 id="超时空特殊装备三件套-属性分析"><a href="#超时空特殊装备三件套-属性分析" class="headerlink" title="超时空特殊装备三件套 属性分析"></a>超时空特殊装备三件套 属性分析</h2><p>​超时空特殊装备三件套总共可增加115点所有属性强化、33%额外黄字伤害、33%额外暴击伤害；由于四维加成都是标准数值，这里就不纳入计算中了。总的说来属性构成比较简单，整合每条属性以及它们所对应的提升率：</p>
<p>所有属性强化+115点：基础属强数值仍然设为220点，不计敌人属性抗性，不带属性白字装备；提升率为<code>26.14%</code>（115/440）。额外黄字伤害+33%：黄字伤害取恍惚套的20%，其他额外黄字伤害仍然取七宗罪鞋的15%；提升率为<code>24.44%</code>（1.68/1.35）。额外暴击伤害+33%：暴击伤害也取恍惚套的20%，其他额外暴击伤害取七宗罪套装的25%；提升率为<code>22.76%</code>（1.78/1.45）。最后可以很轻松地得出，在七宗罪套装、恍惚套的搭配下，超时空特殊装备三件套的提升率为：</p>
<blockquote>
<p>1.2614<em>1.2444</em>1.2276=<code>1.9269</code></p>
</blockquote>
<p>在此搭配下的超时空特殊装备提升率为92.69%，我们仍然不急着评判此数值的高低，为了更加直观地感受超时空特殊装备的提升率，下面就在相同的装备搭配下，分析一下海伯伦套装的提升率。</p>
<h2 id="海伯伦套装-提升率分析"><a href="#海伯伦套装-提升率分析" class="headerlink" title="海伯伦套装 提升率分析"></a>海伯伦套装 提升率分析</h2><p>​因为海伯伦套装不是本次分析的主角，我在分析时也就长话短说了，计算时直接将触发效果取为黑暗荣耀。海伯伦套装可增加高出特殊装备标准数值的337点四维（王冠高出82点、祭礼高出55点、套装+200点）：以物理职业为例，基础力量数值设为3000点，单刷提升率为<code>10.37%</code>（337/3250）。</p>
<p>最终伤害+20%：其他最终伤害数值为34%（七宗罪腰带+17%，+12氤氲之息+17%），提升率为<code>14.93%</code>（1.54/1.34）。物理、魔法、独立攻击力+22%：其他百分比三攻加成数值取作34%（七宗罪下装+17%，+12清泉流响+17%），提升率为<code>16.42%</code>（1.56/1.34）。技能攻击力+32%（王座本源+10%，黑暗荣耀+20%，二者乘算）：此类效果相互之间直接乘算，所以提升率为<code>32%</code>（1.1*1.2）。</p>
<p>可使1-85级技能等级+1：被动技能部分的提升率记为5%，对1-45级技能的提升大约记为4%，对50-80级技能的提升大约记为5.5%，对85级技能的提升记为15%。最后得出海伯伦套装（暗）的提升率为：</p>
<blockquote>
<p>1.1037<em>1.1493</em>1.1642<em>1.32</em>1.05*1.04=<code>2.1287</code>（1-45级技能）</p>
</blockquote>
<blockquote>
<p>1.1037<em>1.1493</em>1.1642<em>1.32</em>1.05*1.055=<code>2.1594</code>（50-80级技能）</p>
</blockquote>
<blockquote>
<p>1.1037<em>1.1493</em>1.1642<em>1.32</em>1.05*1.15=<code>2.3538</code>（85级技能）</p>
</blockquote>
<p>海伯伦套装（暗）对1-45级技能的提升率大约为112.87%，对50-80级技能的提升率大约为115.94%，对85级技能的提升率大约为135.38%。由此可以看出，在板甲B套的搭配下，海伯伦套装（暗）至少比超时空三件套强10%，在二觉单技能伤害上则强了22%。所以由目前的分析可知，在防具是板甲B套时，仍然是海伯伦（暗）强一些。</p>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p>​随着防具的改变，装备中所对应加算属性的基础数值也会发生改变，所以在五套防具B套下得出的提升率结果并不相同，但海伯伦强于超时空的结论可以确定能适用于布甲、轻甲、板甲；我在皮甲和重甲方面还未进行计算，但即便皮甲、重甲之下的超时空略强于海伯伦，今后最优搭配仍然是超时空首饰加海伯伦，制作海伯伦绝对是没错的。</p>
<p>另外还有一种<strong>超时空5件、加一件提升率较高的单件</strong>的搭配方式，对此我也暂时没有进行计算，这个算起来会比较复杂，因为单件装备的不同会使提升率出现很多种结果，如果各位比较想知道这个问题的话，我在这段时间内也可以准备分析一下。最后还是那句话: <strong>海伯伦不会被超时空3打败</strong>，制作海伯伦套装仍然是未来装备发展的一个大方向。</p>
<h1 id="地狱拓荒者武器介绍及分析"><a href="#地狱拓荒者武器介绍及分析" class="headerlink" title="地狱拓荒者武器介绍及分析"></a>地狱拓荒者武器介绍及分析</h1><ul>
<li>地狱拓荒者对二觉技能的加成虽高，整体伤害却比不上圣耀</li>
</ul>
<p>地狱拓荒者武器的属性到现在已经确定，地狱拓荒者对二觉技能有着十分优秀的单独提升，同时在对整体伤害的加成方面也有技能攻击力和白字附加伤害的支撑。</p>
<p>但问题在于，在比较地狱拓荒者与圣耀武器的强弱时，应该如何将地狱拓荒者对二觉的等级加成体现到整体提升率上呢？在这方面我也是思考了很久，最后找到了一个相对合理的方法来解决此问题。那么这里先不说太多，下面就先对地狱拓荒者武器的提升率进行一个详细的分析。</p>
<h2 id="地狱拓荒者提升率分析-装备搭配前提"><a href="#地狱拓荒者提升率分析-装备搭配前提" class="headerlink" title="地狱拓荒者提升率分析-装备搭配前提]"></a>地狱拓荒者提升率分析-装备搭配前提]</h2><p>只要角色的卢克团本进度正常，在获得地狱拓荒者武器之时，装备应该已经是防具B套和海伯伦套装了，所以这里也将装备搭配前提设为：七宗罪套装、恍惚套、海伯伦套装（计算时默认触发“暗”）。至于首饰或者特殊装备是超时空史诗的搭配情况，就等进度到那里的时候再说。</p>
<h2 id="地狱拓荒者武器-属性分析"><a href="#地狱拓荒者武器-属性分析" class="headerlink" title="地狱拓荒者武器 属性分析"></a>地狱拓荒者武器 属性分析</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-456/hell.png" alt="地狱拓荒者武器"></p>
<p>​地狱拓荒者武器可增加<strong>39%技能攻击力</strong>、以及<strong>10%白字附加伤害</strong>；<strong>攻击时有50%几率使85级技能等级+1，最高可+3</strong>；赋予自身最高属强所对应的属性攻击。除圣骑士的十字架之外，所有职业地狱拓荒者武器的伤害加成属性相同。整合地狱拓荒者武器的所有伤害提升效果：</p>
<p>技能攻击力+39%：乘算属性，提升率直接记为<code>39%</code>。白字附加伤害+10%：其他装备的白字加成数值取作42%（白字称号+10%，宠物和宠物装备+17%，七宗罪头肩+15%）；不破招提升率为<code>7.04%</code>（1.52/1.42），白字二次破招提升率为<code>8.2%</code>。85级技能等级+3：下面先详细地说一说这条效果的计算方式。</p>
<p>​在等级加成效果的提升率计算中，需要用到对应技能在对应等级差时的面板数据。以帕拉丁的二觉技能为例，在有契约的情况下，二觉技能可学习3级，如果没有穿戴其他增加二觉等级的装备，那么可将二觉等级的基准看作3级。帕拉丁3级二觉的百分比为151843%，4级二觉的百分比为175898%，此时可以得出，在二觉等级基准为3级的情况下，1级等级加成所带来的提升为：</p>
<blockquote>
<p>1759.98/1519.43=<code>1.1583</code></p>
</blockquote>
<p>在二觉的原本等级为3的情况下，1级等级加成对二觉的单独提升为15.83%。在所设装备前提下，若时装上衣的技能加成没有选为二觉，那么二觉的基础等级应该为4级（契约下可学习3级，王座本源+1级）。此时用7级二觉的百分比与4级二觉的百分比，在相同的计算方法下，即可得出地狱拓荒者3级等级加成对二觉的单独提升，结果大约为41%。那么可以得出地狱拓荒者的提升率为：</p>
<p>整体伤害：</p>
<blockquote>
<p>1.39<em>1.0704 或 </em>1.082=<code>1.4879</code>（不破招）或<code>1.504</code>（白字二次破招）</p>
</blockquote>
<p>二觉伤害：</p>
<blockquote>
<p>1.39<em>1.41</em>1.0704 或 *1.082=<code>2.098</code>（不破招）或<code>2.1206</code>（白字二次破招）</p>
</blockquote>
<p>地狱拓荒者在不破招时对整体伤害的提升为<code>48.79%</code>，对二觉的单独提升为<code>109.8%</code>；在白字二次破招时对整体伤害的提升为<code>50.4%</code>，对二觉的单独提升为<code>112.06%</code>。</p>
<p>就对整体伤害50%左右的提升而言，地狱拓荒者只是<strong>基本达到了90级自制史诗或者深渊史诗的水准</strong>；就对二觉伤害110%左右的提升而言，地狱拓荒者则是<strong>目前所有武器中最强</strong>的。在二觉的单技能伤害上、尤其是在<strong>追求二觉单技能秒杀时，地狱拓荒者与其他武器比起来有着绝对的优势</strong>。</p>
<p>但随着今后副本中怪物HP数值的增加，单技能秒杀对大部分玩家而言都会越来越难，那么就必须要考虑到整体提升率了。但是地狱拓荒者武器对二觉的单独提升，应该用何种方式来将其转换进整体提升率中呢？</p>
<h3 id="二觉单独提升率的转换"><a href="#二觉单独提升率的转换" class="headerlink" title="二觉单独提升率的转换"></a>二觉单独提升率的转换</h3><p>​首先在修练场中将每个输出技能使用一次，以此来简单得出每个技能在伤害中的占比。当然，不同职业的占比情况是不一样的，所以我在这里只能做一种大约的转换；并且这种方式没有将冷却时间考虑在内，比如一些冷却时间短的技能，在一次完整的输出过程中往往会被用到多次，这也会影响各个技能的伤害占比。对帕拉丁而言，<strong>二觉的伤害占比大约为23%</strong>，我们将总伤害假设为100点，按白字二次破招的情况来进行考虑，在带入地狱拓荒者的提升率之后，总伤害会上升至：</p>
<blockquote>
<p>100<em>（23%</em>2.1206+77*1.5123）=<code>165.22</code></p>
</blockquote>
<p>这时可以得出，在各技能的使用次数均为1的输出过程中，地狱拓荒者将二觉单独加成转换成整体加成之后的提升率为<code>65.22%</code>。但是在一次完整的输出过程中，随着冷却时间较短的技能的多次使用，二觉的伤害占比会降低；与之对应的，地狱拓荒者将二觉转换进整体的提升率也会降低，所以这里的提升率结果并不是固定的。下面还是从提升率计算的层面，对比一下地狱拓荒者和圣耀救赎武器。</p>
<h2 id="圣耀救赎武器-属性分析"><a href="#圣耀救赎武器-属性分析" class="headerlink" title="圣耀救赎武器 属性分析"></a>圣耀救赎武器 属性分析</h2><p>​除圣骑士的十字架之外，圣耀武器可增加40%技能攻击力，在开启魔能后可再增加22%技能攻击力。基础40%与魔能22%乘算，所以圣耀救赎武器的提升率为<code>70.8%</code>（1.4*1.22），强于转换二觉伤害之后的地狱拓荒者。</p>
<p>这里需要再次强调，地狱拓荒者通过转换二觉伤害所得出的提升率并不是固定或准确的，会随实战中各技能使用次数的变化而变化。这里为了使两把武器的比较结果更加清楚，就按具体技能来算一下二者的差距。</p>
<p>将地狱拓荒者武器的提升率取作白字二次破招时的数值，在<strong>1-80级技能上</strong>，圣耀救赎武器比地狱拓荒者强<code>13.56%</code>（1.708/1.504）；在<strong>二觉单技能伤害</strong>上，地狱拓荒者比圣耀救赎武器强<code>24.16%</code>（2.1206/1.708）。这样一来，我们就可以根据自己职业二觉伤害的占比，来对两把武器做出选择了。</p>
<h2 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h2><p>​其实在除了二觉单技能秒杀的情况之外，圣耀救赎武器都是要比地狱拓荒者强的，并且今后副本中的怪物在HP和防御力方面只会越来越高，即便我们现在可以在队伍顶配的情况下用二觉秒掉卢克副本中的任何怪物，但在今后的副本中，这种情况只会越来越少。到那时，装备之间的比较会越来越倾向于二者整体提升率的比较。</p>
<p>对部分技能单独提升高的装备，在对伤害整体提升高的装备面前，可能会越来越显得无力。所以从装备和副本的发展方向来看，还是建议各位<strong>将圣耀武器作为长远使用的武器</strong>。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/28/超时空装备提升率分析/" data-id="ckrnaka3w002bcgukfbcokdd9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DNF/">DNF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/游戏数值分析/">游戏数值分析</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-超时空副本怪物打法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/28/超时空副本怪物打法/" class="article-date">
  <time datetime="2018-06-27T17:09:02.000Z" itemprop="datePublished">2018-06-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DNF/">DNF</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/28/超时空副本怪物打法/">超时空副本怪物打法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>对寻路和打怪都比较生疏的你，该如何攻坚超时空副本？</li>
</ul>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在超时空副本开放之后，各位玩家都已经全身心地投入了副本的开荒之中，首次开团就直接通关的玩家不在少数，但相对而言，或许有更多玩家面临的是一次又一次的攻坚失败。实不相瞒，我在第一天下午与自己团里的玩家们开荒时，也连续失败了四次，但同时也在这几次失败中加深了对超时空副本的理解。</p>
<p>就现在而言，在队员之间不缺乏沟通的前提下，基本能将通关时间控制在20分钟左右。那么下面就尽我所能，为各位讲解一下我在超时空副本中所理解到的经验与方法，希望能为还不熟悉这个副本的玩家们带来一点帮助。</p>
<h1 id="超时空副本-整体攻坚流程"><a href="#超时空副本-整体攻坚流程" class="headerlink" title="超时空副本 整体攻坚流程"></a>超时空副本 整体攻坚流程</h1><p>​我们在开荒时所遇到的一个关键问题，就是<strong>不知道该打哪儿</strong>。简单说来，在超时空副本中必须拿下的地图是：至少<strong>一个前哨</strong>、<strong>三个兵营</strong>、<strong>Boss</strong>。前哨会阻断我们去兵营的路，只要拿掉一个前哨，就可以从这个前哨直接绕路走到三个兵营中（小地图中的“实线”和“虚线”都表示地图之间有路可走）；但是前哨会定期召唤“可行走”的小怪，如果这个小怪行走到基地门口，会直接造成攻坚失败的结果，所以在不能保证兵营和Boss的通关效率时，最好还是将三个前哨都打掉。</p>
<p>三个兵营是必须要打的，只有这样才可以进入Boss地图。除此之外，特殊地图<strong>雷达</strong>与<strong>炮塔</strong>也存在较大的攻坚意义：打掉雷达之后，可以<code>增加我方队员10%技能攻击力</code>，同时能够探测到每个小地图Boss的具体种类。打掉炮塔之后，可以<code>减少敌人10%防御力</code>。在队伍配置不高、或者熟练度不足的情况下，不建议放弃雷达和炮塔。</p>
<p>对熟练程度相对较低的团队而言，个人建议的路线是：开局兵分两队，分别直奔上、下两路的雷达和炮塔，接着顺路打掉两路的前哨，然后行动较快的队伍去打掉中路前哨。消除前哨带来的威胁之后，再安心地去打兵营。在熟练度和配置相对不足时，不建议采取“只打一路前哨，绕道打兵营”的打法。</p>
<p>接着根据队伍配置、以及队员对怪物机制的掌握情况，来分配兵营三恶魔的攻坚方式。拿下三个兵营之后直接进入Boss（一支队伍进入纯白、另一只进入黑暗），两支队伍同时击杀Boss之后即可完成攻坚（纯白与黑暗之间存在联动机制）。下面就来具体讲一下[机制相对复杂]的怪物的击杀方式。</p>
<h1 id="怪物机制详解"><a href="#怪物机制详解" class="headerlink" title="怪物机制详解"></a>怪物机制详解</h1><h2 id="前哨Boss：引力恶魔-修丁厄（绿狗）"><a href="#前哨Boss：引力恶魔-修丁厄（绿狗）" class="headerlink" title="前哨Boss：引力恶魔-修丁厄（绿狗）"></a>前哨Boss：引力恶魔-修丁厄（绿狗）</h2><p>​全队在进入修丁厄所在房间之后，会进入沉默状态；此时一名队员捡起地上的[绿珠]，即可解除自身沉默状态，同时会触发[能量立方体施释放读条]。在读条期间，修丁厄会一直处于无敌状态，读条结束之后，修丁厄解除无敌并进入虚弱状态，之后即可开始输出。</p>
<p>捡起绿珠的<strong>角色的MP数值会持续减少</strong>（到0之后，HP会开始减少）。队员之间需要在能量立方体释放期间进行<strong>绿珠互传</strong>，建议的传递顺序</p>
<blockquote>
<p>光兵&gt;&gt;输出相对较低的C&gt;&gt;奶爸&gt;&gt;输出相对更高的C</p>
</blockquote>
<p>之所将奶爸放在主C之前，是为了让奶爸在将绿珠传出去之前<strong>放出一觉</strong>，然后主C接到绿珠，直接打出最大化的伤害。</p>
<p>此Boss比较考验队友之间的配合，路人团打这只怪物时，在缺少沟通的情况下会比较吃力；建议在进图之前，队员们先商量好传递绿珠的顺序（保证让伤害最高的C在最后接到绿珠即可）。</p>
<h2 id="前哨Boss：人类背叛者-宾柏"><a href="#前哨Boss：人类背叛者-宾柏" class="headerlink" title="前哨Boss：人类背叛者-宾柏"></a>前哨Boss：人类背叛者-宾柏</h2><p>​宾柏有着魔枪士的外形，会使用魔枪士四个转职的部分技能。此怪物在进图之后可以直接输出，但此怪物的HP数值较高，并且在施放部分技能时会进入无敌状态，队伍伤害不够的话，建议等它交出大招并进入虚弱状态之后再开始输出。</p>
<p>宾柏放出决战者的技能<code>狂龙怒啸</code>之后，会飞上天并朝地面发动秒杀攻击，它起飞之前会将所有角色震到在地，角色可以通过施放<code>受身蹲伏</code>来躲过秒杀攻击。宾柏落地之后会进入虚弱状态（防御力降低），此时全力对它进行输出就行了。</p>
<h2 id="前哨Boss：宇宙粉碎机-克鲁瑟"><a href="#前哨Boss：宇宙粉碎机-克鲁瑟" class="headerlink" title="前哨Boss：宇宙粉碎机-克鲁瑟"></a>前哨Boss：宇宙粉碎机-克鲁瑟</h2><p>前哨另外一个Boss（宇宙粉碎机）的机制相对要简单一点，根据它所呈现出的颜色，打掉对应颜色的小怪，在小怪被全部打掉之后即可破防，这里就不再多说了。</p>
<h2 id="兵营Boss：重力恶魔-白斯"><a href="#兵营Boss：重力恶魔-白斯" class="headerlink" title="兵营Boss：重力恶魔-白斯"></a>兵营Boss：重力恶魔-白斯</h2><p>​重力恶魔是三恶魔中机制最简单的，要说难点的话，就是HP数值相对较高。进图之后可以直接对重力恶魔进行输出，但与背叛者宾柏相似的是，普通状态下的重力恶魔相对较肉，对伤害不足的队伍而言，建议一边躲避它的攻击、一边用小技能输出，等它进入虚弱状态之后，再用大技能来输出。</p>
<p>重力恶魔在放完所有小技能之后，会放出可以召唤陨石的大招，小型陨石可用通过走位来躲避；最后的大型陨石带有秒杀能力，在它下落的前一刻，全队会被震到在地，接着仍然是通过施放<code>受身蹲伏</code>来躲避最后的秒杀攻击。此技能结束之后，重力恶魔进入虚弱状态（防御力降低），然后全队即可开始全力输出。</p>
<h2 id="兵营Boss：暗之恶魔-艾森"><a href="#兵营Boss：暗之恶魔-艾森" class="headerlink" title="兵营Boss：暗之恶魔-艾森"></a>兵营Boss：暗之恶魔-艾森</h2><p>​暗之恶魔的机制要稍微复杂一点，我们进图之后面对的是它的初始形态，此时可以直接输出，在打掉2500条左右的血量时，会触发暗之恶魔的机制。触发机制之后，地图会变黑，暗之恶魔会在黑暗中朝角色发动攻击。</p>
<p>在每次攻击之前，暗之恶魔会先闪现出一个“红点”，看到红点之后，角色需要让暗之恶魔受到单Hit攻击，每成功一次，地图上就会出现一道光柱。当地图出现四道光柱时，暗之恶魔的隐身攻击会停止，与此同时，四道光柱会开始发生位移，角色需要跟随光柱的位移，保证自己时刻站在光柱内（角色一旦离开光柱，就会进入僵直状态，HP会持续减少）。在跟随光柱行走一段时间后，四道光柱会在暗之恶魔的初始位置聚集在一起，之后暗之恶魔便会以虚弱状态现形，接着对它进行输出即可。</p>
<h2 id="兵营Boss：光之恶魔-欧格里"><a href="#兵营Boss：光之恶魔-欧格里" class="headerlink" title="兵营Boss：光之恶魔-欧格里"></a>兵营Boss：光之恶魔-欧格里</h2><p>​光之恶魔算是副本开荒阶段最难打的一个Boss，虽然它的机制也是单Hit抓破招，但由于每轮破招受读条时间的限制，会让人产生一种紧迫感。进图之后仍然是先进行直接输出，在打掉大约十分之一血量后，会触发光之恶魔的机制。</p>
<p>机制触发后，屏幕上会出现<strong>五个光珠</strong>，同时出现光之恶魔的读条。我们需要在光之恶魔发动攻击、头部出现闪光的一瞬间，让它受到单Hit攻击，每成功一次，即可减少一颗光珠。在读条时间内减少五颗光柱，即可让光之恶魔进入虚弱状态。</p>
<p>同时，如果没有在读条时间内打掉五颗光珠，还可以通过打接下来的<strong>分身</strong>来进行补救，打到一个分身，仍然会减少一颗光珠。如果在分身阶段补救失败的了话，光之恶魔就会发动全屏的魔法阵攻击，并在攻击结束之后重新生成五个光珠，一切又得从头开始。所以光之恶魔的击杀难点，在于抓破招打光珠的效率，效率较低的话，就会使抓破招的机制一直循环下去，从而一直不能对光之恶魔进行输出。</p>
<h2 id="超时空Boss：宇宙恶魔-罗什"><a href="#超时空Boss：宇宙恶魔-罗什" class="headerlink" title="超时空Boss：宇宙恶魔-罗什"></a>超时空Boss：宇宙恶魔-罗什</h2><p>​宇宙恶魔虽然是超时空副本的最终Boss，但它的击杀难度并不是很大。首先，两只队伍需要同时进入两个Boss地图（纯白与黑暗），纯白和黑暗之间存在联动机制。宇宙恶魔一共有五种机制形态，分别是：风、火、冰、属性宝石、棕色地板，前面四种机制中的Boss都是以<strong>分身</strong>的形态出现。</p>
<p><code>风、火、冰</code>形态的分身在击杀方面没有难度，我们只需要通过走位来避开攻击，一段时间后分身会自己进入虚弱状态（冰分身没有虚弱状态，需要边躲边打），此时将其击杀即可。[属性宝石]形态的分身在击杀时稍微有一点讲究，我们需要将地图中的所有宝石打成同一颜色，在此之后分身会进入虚弱状态，但只能用与属性宝石颜色相同的属性攻击来对它进行输出（比如红色宝石对应火属性攻击）。</p>
<p>​每当两支队伍共同通过四次机制时（有可能是A3次、B1次；也有可能是A2次、B2次），宇宙恶魔的真身就会以虚弱形态出现，此时便可对它进行伤害输出，如果在虚弱状态的持续时间内没有将宇宙恶魔击杀，就会再一次进入它的[分身]机制，此时两支队伍则需要再次通过三次机制。那么棕色地板是怎么回事呢？</p>
<p>假设A队遇到的机制依次是：风&gt;&gt;火，B队遇到的机制依次是：冰&gt;&gt;属性宝石；如果A队在打完分身之后遇到了棕色地板，则表示B队此时还未通过属性宝石机制。在B队通过属性宝石的机制后，A、B两队所在地图中的宇宙恶魔会以虚弱形态同时出现，此时两队需要同时对它进行伤害输出。</p>
<p>当宇宙恶魔的虚弱时间结束后，如果两队的任意一方没有将宇宙恶魔的HP减少到1%，宇宙恶魔都会重新发动分身机制，并将自身HP进行平均分配（比如A队还剩1%，B队还剩39%，接下来都会变成20%）。所以在攻打宇宙恶魔时，两支队伍需要尽量做到同步，即便不能及时沟通，也需要在宇宙恶魔的机制方面形成一种默契。一支队伍的失误不仅会拖慢自己队伍的击杀速度，还会使另一支队伍进入漫长等待中。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>在超时空副本开放的初阶段，能讲的就只有这么多了。因为担心部分玩家会因为“太长”而不看，一些机制相对简单的怪物，我在这里就没有讲到。在没有讲到的怪物中，基本上只有<strong>雷达</strong>的机制是需要稍微注意一下的（简单说来就是：吃红罩就打蓝怪，吃蓝罩就打红怪）。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/28/超时空副本怪物打法/" data-id="ckrnaka3u0029cgukgwa8aoh2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DNF/">DNF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/游戏攻略/">游戏攻略</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/游戏数值分析/">游戏数值分析</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-游戏数值对玩家游戏体验的影响" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/28/游戏数值对玩家游戏体验的影响/" class="article-date">
  <time datetime="2018-06-27T16:39:29.000Z" itemprop="datePublished">2018-06-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DNF/">DNF</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/28/游戏数值对玩家游戏体验的影响/">游戏数值对玩家游戏体验的影响</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>本文撰写的时间较早，后续对DNF游戏系统及机制有更深入的理解，详细可见博客的另一篇文章<a href="https://cgnz.github.io/2018/06/12/%E5%86%99%E5%9C%A8DNF%E5%8D%81%E5%91%A8%E5%B9%B4/" target="_blank" rel="noopener"><strong>《写在DNF十周年》</strong></a></li>
</ul>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>绝大多数游戏都存在着两个循环：角色属性养成积累循环和玩家技能提升循环。对于大多数角色扮演类的网络游戏来说，主要还是在于角色属性的养成循环。而决定游戏角色的成长最为关键的就是数值的成长，良好的数值成长能够决定许多玩家的游戏体验，进而影响到游戏发展和收益。从两款角色扮演游戏（龙之谷、地下城与勇士）及英雄联盟部分百分比增益属性进行粗浅分析。</p>
<h1 id="DN-单个属性的极端成长"><a href="#DN-单个属性的极端成长" class="headerlink" title="DN-单个属性的极端成长"></a>DN-单个属性的极端成长</h1><p>龙之谷中，玩家的攻击属性除了常规的三维（力量、敏捷、智力）分别对不同职业有着不同的加成，属性攻击、以及致命一击（即暴击，上限89％）外，还有着一个在所有伤害计算的最后在进行加成的属性——最终伤害。最终伤害应用于所有攻击加成计算之后，计算在致命一击之后，致命一击仅仅是将伤害翻倍。最终伤害可以堆到100%。即在忽视防御属性的时候，玩家打出了10000伤害后，如果暴击，则会造成20000伤害，而在这些计算之后，才会计算最终伤害，如果最终伤害堆到100％后，则会将伤害再度翻倍到40000。而且对于属性伤害也是累计的乘算。可以说最终伤害可以将玩家之间差距翻倍也是每个玩家都可以堆叠出一定的最终伤害值来提升自己伤害。</p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-DN/DN.png" alt="龙之谷最终伤害数值与收益率曲线图（80级）"></p>
<p>但是，最终伤害的堆叠曲线对于普通的平民玩家是很不友好的。在大多数人都能达到的最终伤害值的情况下，超过质变点，最终伤害的转换的收益是比较低的，而能够通过一些昂贵的特殊再往上堆叠数值后，最终伤害的收益才会成倍数的增长，可以说有了最终伤害这个属性，让这款游戏玩家之间有了质的差距，也让“充钱”的收益变得更加立竿见影。</p>
<h1 id="DNF-多属性的缓和稀释"><a href="#DNF-多属性的缓和稀释" class="headerlink" title="DNF-多属性的缓和稀释"></a>DNF-多属性的缓和稀释</h1><p>在地下城与勇士中，85版本的伤害词缀有伤害增加（黄字）、暴击伤害增加（爆伤）以及附加伤害（白字），其中前两者都是会冲突的属性（只会取身上装备属性的最高者），而附加伤害则是相互加算的，而且会因为加算的变多而受益递减，即所谓的稀释、边际效应。<br>而到了90版本后，增加了多种伤害机制，有额外增伤，额外爆伤，最终伤害（所攻），技能攻击力和攻击力增加（三攻），此外还有特殊减益机制无视防御力和减少防御力。额外增伤、爆伤、最终伤害、三攻加成都是加算，因而存在属性值较高时的稀释。而技能攻击力则是相互乘算，不存在稀释，因而属性值也显得十分珍贵。再看减益，无视防御也是取最高值，而减防，则是相互乘算。结合免伤率公式，乍看之下可以将通过减防效果的叠加敌人的防御力下降到0，实现所谓的“十倍增伤”，但是这个小漏洞很快就被修复了，在团本和高级的副本中敌人的防御力不会低于一定值，即所谓的减防下限。总结起来就是，玩家可以把各种属性进行合理搭配，同时堆出一定量值，但是随着属性上升到一定值后，收益就会下降。加之游戏内装备的属性，大部分人通过合理的搭配都能把各项属性值堆到一个相对较高但是又不是极端的水平，和土豪的玩家为了追求极限的伤害把属性值继续堆高收益就会有所下降。</p>
<h2 id="边际效应："><a href="#边际效应：" class="headerlink" title="边际效应："></a>边际效应：</h2><p>在0白字的基础上带上10%白字，收益率为110%/100%-100%=10%，如果在这个基础上再增加一条10%白字那么收益率就变成(110+10%)/110%-1=9.0909%了，以此类推收益率会逐渐降低。</p>
<h2 id="技能攻击力乘算："><a href="#技能攻击力乘算：" class="headerlink" title="技能攻击力乘算："></a>技能攻击力乘算：</h2><p>技能攻击力的特性在于，它不与任何其他伤害词缀相冲突，多个技能攻击力装备之间的算法为乘算，即常态荒古武器的技能攻击力为35%，在开启魔能之后其效果提升为135%<em>120%=162%，如果再使用当前的顶尖魔法石罗塞塔石碑则技能攻击力变为162%</em>118%=191.16%，即装备上写的是多少技能攻击力，这件装备的实际提升率就是多少，因而技能攻击力装备显得异常保值。</p>
<h2 id="减防免伤率计算："><a href="#减防免伤率计算：" class="headerlink" title="减防免伤率计算："></a>减防免伤率计算：</h2><p>以当前版本最热门的卢克团队模式副本为例，怪物的物理和魔法防御力为22.1万左右，而妖刀村正这类无视敌人防御力的装备起的作用就是在自身攻击时忽略掉敌人的这部分防御从而直接造成更大的伤害。<br>当前DNF的怪物减伤率计算公式为</p>
<blockquote>
<p>“实际防御力/(实际防御力+攻击方等级*200)”</p>
</blockquote>
<p>以卢克副本为例，入场的玩家等级均为90，则怪物的减伤率为221000/(221000+90<em>200)</em>100%=92.48%，即如果我们在面对0防御力的敌人时打出100000点伤害，那么到了卢克副本中只能打出100000*(100%-92.48%)=7520点伤害。以妖刀为例，在穿戴妖刀后我们能打出的伤害为</p>
<blockquote>
<p>100000<em>【1-221000</em>(100%-20%)/221000<em>(100%-20%)+90</em>200】=<code>9226</code>点伤害</p>
</blockquote>
<p>实际提升率大约22.7%。所以说，减防和无视防御类的技能其提升率都要略大于技能本身的数据。</p>
<h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><p>以上两款游戏的数值简单介绍之后，分析一下两款游戏的现状，龙之谷在我玩的时候（3-4年前）就已经是相当花费金钱的游戏，少充甚至不充是很难在这款游戏中生存下去的，而最近与还在玩这款游戏的小伙伴交流之后，发现这种情况没有减轻，还有继续下去的趋势，玩的人也是一日不如一日。反观地下城与勇士，这款国服出了十年的游戏似乎有着回春的趋势，无论是在网吧还是现实生活中的朋友，玩家都是占了相当部分的比例的。结合我玩这两款游戏的实际经历，还是能看出些许的原因，稍作分析：</p>
<h2 id="1-数值方面的原因"><a href="#1-数值方面的原因" class="headerlink" title="1.数值方面的原因"></a>1.数值方面的原因</h2><p> 龙之谷由于最终伤害难以堆砌，以我当时玩的60-70版本来说，大部分人都能堆到300左右，而300左右的最终伤害值仅能对玩家带来10％的伤害加成，而剩下的部分，需要依靠及其稀有的多属性纹章以及抽奖和稀有装备来进行堆叠，一块有带有最终属性的高级纹章当时甚至能卖到1000块钱以上，更有极品的属性能够接近万元之高，因而花小钱精打细算普通玩家与花大钱的土豪玩家之间金币花费是相当巨大的。对于地下城与勇士，每个玩家培养的“大号”主角色属性值大都差距不大，而追求极限的土豪抠出的小细节也能让培养的角色伤害再上一个档次。</p>
<h2 id="2-游戏经济循环的问题"><a href="#2-游戏经济循环的问题" class="headerlink" title="2.游戏经济循环的问题"></a>2.游戏经济循环的问题</h2><p> 在玩龙之谷的时候，许多顶级的装备都是不可交易的，副本的收益大多数都是材料而非交易用的金币，只有副本里较低概率产出的装备比较值钱，因而普通玩家在不花大量时间的情况下收益相当低，甚至可以忽略不计，而对身上的装备养成都需要在游戏外来进行资源的支持（充钱）；而地下城与勇士的搬砖收益则相当可观，一个账号满疲劳一天（刷完疲劳大部分只需要半小时左右）下来可以收入3-5R人民币所价值的金币，原因除了通关副本后的大量金币奖励之外，还有副本产出的硬通货，团队副本的门票，绝大多数玩家都需要通过每周刷新的团队副本来获得提升自己装备的材料（深渊派对邀请函以及史诗灵魂）。因而玩家只要能够花上一定的时间，就能够实现所谓的“自给自足”，这种做法一定上提高了游戏用户的粘度，也使得玩家不会因为装备和材料的高价而产生挫败感和距离感。</p>
<h2 id="3-游戏关卡设计"><a href="#3-游戏关卡设计" class="headerlink" title="3.游戏关卡设计"></a>3.游戏关卡设计</h2><p> 我曾经跟别人吹牛的时候说道，当一款角色扮演类游戏土豪极限玩家所造成的伤害在普通玩家的三倍以上的时候，这个游戏就黄了，彻底成为砸钱氪金的游戏，如今看来，这个观点未免太过肤浅。龙之谷土豪与平民的差距在3-4倍左右，而地下城与勇士中这个差距也不比龙之谷低，甚至能够达到5倍以上。游戏角色自身的数值只是游戏核心的一部分，而想要让玩家体会到游戏核心的玩法和乐趣，关卡的设计更为重要。龙之谷的关卡（副本）的门槛是分级的，加上各种角色的定位分工类似魔兽世界（奶、T、主DPS、辅助型DPS等），普通的高级副本2-4个普通玩家可以刷的过去，而龙本又分为普通和硬核，普通级别的副本8个玩家在熟练的情况下，是能够顺利通关的，而硬核本的难度则较大，怪物机制难度增大，通常需要1-2个装备较好的DPS以及辅助相互配合才能够顺利通过，整体门槛在普通玩家之上，到后期就会出现所谓的金团（花钱请别人带过）。而版本后期，在大部分玩家的装备强度通过硬核龙本上升到更高层次后，会出现新的龙本，及开荒的龙本，此时这个开荒的副本门槛则更高，甚至会有全服首通奖励的存在，需要数个土豪级别的高玩前往开荒，在通关之后发出攻略等视频或者等到新的版本和等级开放，后面的玩家才能通过提升等级来通过。这种门槛淹没大部分玩家的关卡难度门槛设定虽然能够提升玩家不断挑战提升自己操作的快乐感，但对于伤害的门槛设定（如新副本需要在特定数秒内打出一定的输出否则团灭失败）有时候会让玩家有空有一身水平却无法施展的挫败感（甚至无法完成组队进入副本进行挑战），在心流体验中技术跟不上挑战难度，进而让玩家萌生退意。地下城与勇士则反其道而行之，早期的DNF副本同样十分困难，玩家当时的核心体验在于升级，面对同等级的副本进行挑战，成功之后的愉悦让许多老玩家印象深刻，而后来Neople及时作出了相应的改动，（大转移篇）角色的伤害翻倍提升，升级所需经验大大降低，后期还根据剧情推出了团队的副本并给予极高的奖励，这时候玩家的核心体验就变成了满级后通过远古图做出基本的装备，然后挑战深渊派对刷出自己所需的史诗装备，然后进入团本进行开荒。又如前面所说的，DNF的玩家间的差距虽然很大，但是为什么不会让玩家产生挫败感呢，原因就在于团队副本随着版本的更新难度变得越来越低，后期的门槛在绝大多数玩家角色之下。原来的开荒固定团才能通过到后期变成了流水的野团，甚至只需要少数装备好的搭配上辅助职业便可以通关团队副本，加上高额的奖励使得玩家对副本的依赖变得很大，而新出现的团本与此前的团本难度对接上也比较流畅，通过旧团本打造出来的角色可以较好的通关新的副本，因此许多玩家都能在新副本出现后第一时间通关，享受征服的乐趣。而通过新副本而提升的装备更能让自己在副本的表现中“叱咤风云”，满足玩家的成就感。简单来说就是“平民通、土豪秒”，每个玩家都能在自己的舒适圈内“装逼”。为了防止土豪玩家的较早毕业觉得无聊，加之游戏本身底蕴的积累，游戏内部的冒险团功能，让玩家乐于去新建小号培养，更能通过大号养小号，让游戏的乐趣得以延续。本来作为2D横版游戏的DNF，将自身难以硬核的劣势化为优势，让各种玩家都能体会到游戏的乐趣，吸引着越来越多的新老玩家。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/28/游戏数值对玩家游戏体验的影响/" data-id="ckrnaka36000ucguk77sl7r3l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DNF/">DNF</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/游戏策划/">游戏策划</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/龙之谷/">龙之谷</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-DNF中的伤害类型介绍" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/03/DNF中的伤害类型介绍/" class="article-date">
  <time datetime="2018-06-03T15:49:35.000Z" itemprop="datePublished">2018-06-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DNF/">DNF</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/03/DNF中的伤害类型介绍/">DNF中的伤害类型介绍</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><ul>
<li>对于很多刚刚回归或者才接触这个游戏不是很久的玩家而言，他们在选择装备上的最大困难点就是对于目前DNF装备体系内的<strong>伤害类词条</strong>了解甚少，不同的词条不同的属性到底加成什么?这件装备是否比那件装备更加优秀?今天我们就要来详细盘点一下游戏内的所有伤害类词条，为仍然一头雾水的勇士们指点迷津。</li>
</ul>
<h1 id="86版本伤害类型"><a href="#86版本伤害类型" class="headerlink" title="86版本伤害类型"></a>86版本伤害类型</h1><p>首先是出现于86版本的三个词条，<strong>暴击伤害</strong>、<strong>附加伤害</strong>和<strong>增加伤害</strong>。</p>
<h2 id="暴击伤害"><a href="#暴击伤害" class="headerlink" title="暴击伤害"></a>暴击伤害</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/baoshang.png" alt="无尽贪食之殇"></p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/baoshang2.png" alt="耀之荣光手镯"></p>
<p>暴击伤害是指在角色打出暴击时，伤害值会在原本的基础上增加，代表装备为无尽贪食之殇，该装备直接提升30%的暴击伤害。</p>
<p>系统默认爆伤为<code>150%</code>，装备爆伤为<strong>乘算</strong>，即如果你打出了<code>1000</code>点伤害，无爆伤类装备暴击时将造成<code>1500</code>点伤害，在穿戴无尽贪食之殇后最终伤害则为1000x【150%x(100+30%)】=<code>1950</code>点。装备的爆伤与角色技能带来的爆伤、角色防具精通带来的爆伤均不冲突，三者之间仍然为加算，公式为</p>
<blockquote>
<p>基础伤害x系统默认爆伤x角色技能爆伤x角色装备爆伤x装备爆伤= 最终伤害，</p>
</blockquote>
<p>在没有打出暴击时暴击伤害不起效果，因此推荐勇士们尽量地将自己的<strong>暴击率</strong>堆满。<br>关于爆伤我们需要注意的是，<strong>暴击伤害取最高值</strong>，即若身上的装备同时存在两件提升暴击伤害的装备，那么其效果不能叠加，系统会默认取最高的那个。例如说我们的手镯选择<strong>耀之荣光</strong>，戒指选择<strong>无尽贪食之殇</strong>，那么耀之荣光的5%爆伤加成<strong>不会起效</strong>。</p>
<h2 id="附加伤害"><a href="#附加伤害" class="headerlink" title="附加伤害"></a>附加伤害</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/baizi.png" alt="兽人守护神称号"></p>
<p>附加伤害也被称之为<strong>白字</strong>，因为在比较久远的版本中这一类的伤害均是以白色的数字形式体现的，尽管随着版本变迁这个叫法已经名不副实，但<strong>白字</strong>的理念已经深入人心一时半会也无法改动了，因此玩家们也就继续叫了下去。</p>
<p>附加伤害的代表性装备如今年的<strong>春节称号兽人守护神</strong>，该称号直接<strong>附加10%的白字伤害</strong>。</p>
<p>附加伤害是指，角色若装备一件带有这一伤害词缀的装备，则在攻击时就会冒出一个额外的伤害数字，若穿戴两件则出现两个以此类推，穿戴的附加伤害类装备越多攻击时的伤害数字条数也就越多。<br>例如说某玩家仅穿戴了今年的春节称号并打出了<code>1000</code>点伤害，则这个大的1000旁边就会有一个小的100同时出现，此时我们对怪物就造成了1100点伤害，若再穿戴一件带有10%附加伤害的装备则会出现两个100，造成<code>1200</code>点伤害。<br>与暴击伤害不同，附加伤害是无冲突的，即只要穿戴即可起效，成型的玩家装备内一般都有<strong>5条左右</strong>的白字，唯一需要注意的是附加伤害的收益有稀释。在0白字的基础上带上10%白字，收益率为110%/100%-100%=<code>10%</code>，如果在这个基础上再增加一条10%白字那么收益率就变成(110+10%)/110%-1=<code>9.0909%</code>了，以此类推<strong>收益率会逐渐降低</strong>。</p>
<h2 id="增加伤害"><a href="#增加伤害" class="headerlink" title="增加伤害"></a>增加伤害</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/huangzi.png" alt="兽人守护神称号"></p>
<p>增加伤害是<strong>直接放大角色本身输出</strong>的一条伤害词缀，俗称<strong>黄字</strong>。代表装备为<strong>无尽贪食之力</strong>。</p>
<p>和白字类似，增加伤害之前也曾经是黄字显示，因此两个概念是等同的。此外，上面提到的耀之荣光手镯也同样是黄字伤害，只不过描述不同。<br>黄字的加成会直接体现在角色伤害数字上，例如在装备无尽贪食之力前角色打出的伤害为<code>1000</code>，那么在装备后伤害则提升为1000*(100%+30%)=<code>1300</code>。<br>需要注意的是增加伤害也同样<strong>取最高值</strong>，即两件均带有增加伤害词条的装备只会取<strong>数值较高</strong>的那个，另一个则<strong>不发挥作用</strong>。</p>
<ul>
<li>简单地介绍过86版本的伤害词缀后，在下一篇中我们将探讨的是90级版本中出现的伤害词缀，以及属性提升率的计算。</li>
</ul>
<h1 id="90版本伤害类型"><a href="#90版本伤害类型" class="headerlink" title="90版本伤害类型"></a>90版本伤害类型</h1><ul>
<li>上面我们讲述了86版本即出现的三个伤害词缀，即<strong>暴击伤害</strong>、<strong>附加伤害</strong>和<strong>增加伤害</strong>，在这一期中90版本中新引入的词缀也将被归纳进来，方便回归和新手的勇士们更好地理解当前游戏内的伤害构成机制。</li>
</ul>
<h2 id="额外增加伤害"><a href="#额外增加伤害" class="headerlink" title="额外增加伤害"></a>额外增加伤害</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/yaodao.png" alt="妖刀村正"></p>
<p>额外增加（追加）伤害，俗称<strong>黄追</strong>，代表性装备为90级史诗太刀<strong>妖刀村正</strong>。</p>
<p>妖刀村正的属性中有一条<strong>额外增加35%的伤害增加量</strong>，这个额外的伤害增加量实际上就是可叠加的黄字。与普通黄字取最高值不同，带有额外黄字的装备其效果是逐渐累加的，并<strong>不会出现冲突</strong>，<strong>计算公式是普通的加算</strong>，正因为它是<strong>增加伤害的一种进阶</strong>，很多人又把它称之为<strong>黄追</strong>。<br>例如说我佩戴了妖刀村正的同时还穿戴着库尔图洛的合金腰带，那么我当前身上的黄追伤害就是35%+6%=<code>41%</code>。</p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/yaodai.png" alt="库尔图洛的合金腰带"></p>
<p>需要注意的是，黄追类的词缀在角色身上一件黄字伤害都没有的情况下也同样生效!两者之间并无直接联系，且黄追和黄字之间也为加算，即如果我佩戴的武器是别云剑-无用并穿着合金腰带，则总黄字量就是<code>50%+6%</code>。<br>从理论上来说黄追的性质和附加伤害的白字差不多，都是<strong>可叠加但数值越高稀释程度就越大</strong>，勇士们在搭配装备的时候要注意这一点。</p>
<h2 id="额外暴击伤害"><a href="#额外暴击伤害" class="headerlink" title="额外暴击伤害"></a>额外暴击伤害</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/haojie.png" alt="地狱浩劫"></p>
<p>额外暴击伤害，俗称<strong>爆追</strong>，代表性装备为90级史诗手弩<strong>地狱浩劫</strong>。</p>
<p>和上面提到的黄追类似，额外暴击伤害也同样是<strong>可叠加不冲突的暴击伤害</strong>，其效果和黄追完全一致因此也被玩家们成为<strong>爆追</strong>。<br>其性质为<strong>不与任何装备冲突</strong>、<strong>爆追之间为加算</strong>、<strong>爆追和爆伤之间也为加算</strong>且无需穿戴任何爆伤类装备仍可生效，其<strong>稀释也和黄追的效果一致</strong>，勇士们比照着上面的黄追词条查看即可。</p>
<h2 id="技能攻击力"><a href="#技能攻击力" class="headerlink" title="技能攻击力"></a>技能攻击力</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/huanggu.png" alt="荒古遗尘光剑"></p>
<p>技能攻击力，俗称<strong>技攻</strong>，代表性装备为<strong>荒古遗尘系列武器</strong>。</p>
<p>在这个众多伤害词条均有稀释效果的版本中，技能攻击力作为唯一的<strong>非稀释类词条</strong>备受玩家们追捧。技能攻击力类的加成简单直白，比如说我在穿戴荒古遗尘系列武器时可以打出<code>1000</code>点伤害，那么我在开启魔能之后技能的伤害就会提高到<code>1200</code>点。<br>技能攻击力的特性在于，它<strong>不与任何其他伤害词缀相冲突</strong>，多个技能攻击力装备之间的算法为<strong>乘算</strong>，即常态荒古武器的技能攻击力为<code>35%</code>，在开启魔能之后其效果提升为</p>
<blockquote>
<p>135%x120%=<code>162%</code> </p>
</blockquote>
<p>如果再使用当前的顶尖魔法石罗塞塔石碑则技能攻击力变为</p>
<blockquote>
<p>162%x118%=<code>191.16%</code></p>
</blockquote>
<p>即<strong>装备上写的是多少技能攻击力，这件装备的实际提升率就是多少!</strong>，因而技能攻击力装备显得异常保值。</p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/aigenisi.png" alt="源助力-艾格尼丝"></p>
<p>需要注意的是，从安徒恩团队副本模式中获得的<strong>源助力-玛特伽</strong>和<strong>源助力-艾格尼斯</strong>的计算方式均为加算。以<strong>源助力-艾格尼斯为</strong>例，其实际提升率并没有<code>20%</code>，而是无论是否开启魔能其提升率均恒定为<code>14.9%</code>，这两件装备也是唯二的特例，因此也被玩家们戏称为<strong>技能攻击力之耻</strong>。</p>
<h2 id="减防、无视防御"><a href="#减防、无视防御" class="headerlink" title="减防、无视防御"></a>减防、无视防御</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/yaodao.png" alt="妖刀村正again"></p>
<p>无视防御力，代表性装备为90级史诗太刀<strong>妖刀村正</strong>。<br>是的，这把太刀又一次成为了我们剖析装备伤害的最佳模板。</p>
<p>在DNF这种MMORPG游戏内，玩家和怪物的防御力是个无法忽视的数值，因为防御力的高低直接决定了伤害数字是多少。以当前版本最热门的卢克团队模式副本为例，怪物的物理和魔法防御力为<code>22.1万</code>左右，而妖刀村正这类无视敌人防御力的装备起的作用就是<strong>在自身攻击时忽略掉敌人的这部分防御从而直接造成更大的伤害</strong>。<br>当前DNF的怪物减伤率计算公式为<strong>实际防御力/(实际防御力+攻击方等级*200)</strong>以卢克副本为例，入场的玩家等级均为90，则怪物的减伤率为</p>
<blockquote>
<p>221000/(221000+90<em>200)</em>100%=<code>92.48%</code></p>
</blockquote>
<p>即如果我们在面对0防御力的敌人时打出100000点伤害，那么到了卢克副本中只能打出100000x(100%-92.48%)=<code>7520</code>点伤害。</p>
<p>以妖刀为例，在穿戴妖刀后我们能打出的伤害为100000x【1-221000x(100%-20%)/221000x(100%-20%)+90x200】=<code>9226</code>点伤害，实际提升率大约<code>22.7%</code>。</p>
<p>所以说，减防和无视防御类的技能其<strong>提升率都要略大于技能本身的数据</strong>，这么一看妖刀简直强无敌。不，等等，因为DNF里还有另外的两个概念:<br>一个是<strong>减防上限</strong>，一个是<strong>减少防御力</strong>。</p>
<h3 id="减少敌人防御力"><a href="#减少敌人防御力" class="headerlink" title="减少敌人防御力"></a>减少敌人防御力</h3><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/yaodao.png" alt="改版前的女装B肩"></p>
<p>减少敌人防御力，代表性装备为改版前的90级布甲史诗套光怪陆离的人生中的护肩<strong>崩坏的二次元护肩</strong>。</p>
<p>减少敌人防御力的属性与无视防御类似，但无视防御只能对角色自身起效，对于团队无增益，但减少敌人防御力类的装备在穿戴后全队有效，相对于团队增伤。但需要注意的是，尽管没有标明，但<strong>减防类装备的数值仅对普通怪物能够起到全部效果</strong>，对于<strong>精英怪物效果为75%</strong>，对于<strong>领主怪物的效果只有50%</strong>。</p>
<h3 id="减防上限"><a href="#减防上限" class="headerlink" title="减防上限"></a>减防上限</h3><p>那么有勇士可能会觉得，一个队伍里如果每人都带一个减防，那么卢克怪物岂不是相当于0防御的裸装状态随便打了吗?不，这里又会引入另外一个概念，即减防上限。<br>事实上由于安徒恩开荒时期鬼泣加驱魔的组合能够轻易地将怪物的防御力减少到0从而实现“十倍增伤”，因此NX在开发后续版本的时候就为安徒恩和卢克设定了减防上限，同时还将<strong>所有减防类职业的固定数值减防变更为了百分比减防</strong>。以卢克副本为例，无论你通过什么手段都<strong>不能使得怪物的防御力降低到146233点之下</strong>，对比完整的防御卢克副本的减防上限为<code>34%</code>。也就是说，如果队伍里同时有两名阿修罗、暗帝这类的减防职业(<strong>技能减防不受怪物本身影响，即普通绿名和领主一视同仁</strong>)，那么卢克副本的防御将直接从100%降低到100%-21.5%-21.5%=57%，但由于这一数值已经突破了减防下限因此有部分效果无法生效，卢克怪物的防御仍然是原本的<code>66%</code>，即146233点，这也就是减防上限的含义。</p>
<p>在队伍已经达到减防上限的情况下，妖刀村正<strong>无视敌人20%防御力</strong>的属性将变成一纸空文，即能对自身起效的属性仅剩下一条35%的黄追。即使只有一个减防职业，妖刀村正的持有者能享受到的装备无视部分也仅剩下<code>12.5%</code>，提升率只剩下<code>15%</code>不到。这也就是为何妖刀村正的属性不俗，但在高端副本的表现却不尽如人意的原因了。</p>
<h2 id="力智加成"><a href="#力智加成" class="headerlink" title="力智加成"></a>力智加成</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/huangjinbei.png" alt="波利斯的黄金杯"></p>
<p>力量/智力加成，代表性装备为<strong>波利斯的黄金杯</strong>。</p>
<p>力量和智力的提升对于角色的伤害提升非常直接，其<strong>力量和智力加成会直接体现在角色的面板上</strong>，即如果我在未触发黄金杯效果时是<code>1000</code>点力量，那么在触发装备效果后力量将为1000x(100%+18%)=<code>1180</code>，其他装备也是如此。<br>需要注意的是，力量/智力类加成的装备由于计算公式基础系数的存在其伤害提升率永远无法达到标注的数字，即黄金杯18%力智加成的提升实际上略微小于<code>18%</code>。此外，<strong>加成力智的装备之间是加算，其收益同样存在稀释</strong>。<br>很有趣的一点是，在卢克光暗祭坛、机械王座地下城中在未通关能量的情况下角色的力量和智力会被强行减少50%，但增加力智的装备的数据不会受到影响，因此这类装备在此种情况下其提升率达到了<code>36%</code>，算是一个非常意外的收获。</p>
<h2 id="三攻加成"><a href="#三攻加成" class="headerlink" title="三攻加成"></a>三攻加成</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/qingquan.png" alt="许愿清泉流响！！！"></p>
<p>三攻加成，代表性装备为<strong>清泉流响</strong>。</p>
<p>三攻指的是<strong>角色的物理、魔法和独立攻击力三条属性</strong>。与力智加成类装备类似，<strong>三攻类的装备效果也会直接反映在角色的面板上</strong>，没记错的话大名鼎鼎的<strong>灵魂猎者</strong>是DNF历史上第一件直接增加三攻的装备。<br>*<em>三攻类装备彼此的加成为加算，属性加成互不冲突，但也同样存在稀释</em>。</p>
<h2 id="最终伤害"><a href="#最终伤害" class="headerlink" title="最终伤害"></a>最终伤害</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/yingxiongwang.png" alt="英雄王的象征"></p>
<p>最终伤害，代表性装备为<strong>英雄王的象征</strong>。</p>
<p>最终伤害是一条在90版本后才新增加的词缀，之前的国服版本将其翻译为<strong>所有攻击力</strong>，简称所攻。顾名思义，<strong>最终伤害的加成范围比之前提到的词条更加广泛，一个最好的例子就是异常类伤害</strong>。</p>
<p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/yichang.png" alt="异常伤害"></p>
<p>这个蓝色的数字就是异常类的伤害。<br>异常类伤害包括<strong>感电、出血、中毒和灼伤</strong>四种，受<strong>锻造和力量/智力加成</strong>。在DNF目前的职业体系中，异常伤害在技能框架内占比较大比例的职业是毒王。对她而言，一个很重要的问题是<strong>异常类伤害不享受附加伤害、增加伤害和暴击伤害的加成</strong>，只与敌人的异常属性抗性挂钩，这就使得毒王在很长的一段时间内只能对着怪物干瞪眼(初版安徒恩怪物的异常抗性都非常之高，心脏也不吃异常，后来进行了修改)。<br>为了解决这一问题，开发者在设计伤害词缀的时候引入了<strong>技能攻击力和最终伤害</strong>两个概念，这两个词缀<strong>均可以直接提升异常类的伤害</strong>。有趣的是，在面对一些防御力极高(说是防御力不如说是减伤率)的怪物，如吞噬魔时，异常类伤害将大展拳脚。</p>
<p>与90版本才出现的大多数伤害词缀一样，<strong>多个最终伤害之间也是彼此相加不冲突的关系，也同样存在收益的稀释</strong>。如改版前的90级史诗布甲套光怪陆离的人生就因为最终伤害过多而导致稀释严重，不那么受玩家们的欢迎。</p>
<h2 id="属性白字"><a href="#属性白字" class="headerlink" title="属性白字"></a>属性白字</h2><p><img src="https://github.com/CGNz/blogimage/raw/master/DNF-2/boli.png" alt="灵魂剥离"></p>
<p>属性白字，简称<strong>属白</strong>代表性装备为90级史诗镰刀<strong>灵魂剥离</strong>。</p>
<p>属性白字的概念说起来并不复杂，简而言之就是<strong>受到自身属性强化加成的附加伤害</strong>，因此它的属性也和附加伤害一样，<strong>彼此之间为加算，不冲突但有收益稀释</strong>，且<strong>属性白字与属性白字、属性白字与普通白字之间均为加算，不存在取最高值的冲突项</strong>。<br>当前版本的属性白字计算公式如下：</p>
<blockquote>
<p>属性白字=【(玩家属强-怪物属抗)X0.0045+1.05】*装备白字属性特效</p>
</blockquote>
<p>同样以灵魂剥离这把武器为例。<br>我们假设角色现在有300点暗强，怪物暗抗为50，那么这把武器实际上可以带来的暗属性白字伤害提升为</p>
<blockquote>
<p>【(300-50)x0.0045+1.05】x25%= <code>54.375%</code></p>
</blockquote>
<p>(当前版本白字可以保留到小数点后五位)，也就是你的最终伤害打出后，还会附加一个54.375%的额外伤害。</p>
<ul>
<li>根据计算结果我们可以引出另外的两个问题:<br>一是白字之所以这么受欢迎，比较大的原因就在于<strong>角色属强越高，给白字效果带来的提升就越大</strong>。这也是为什么皮甲B套为什么能拥有这么高普及率的原因。<br>二是<strong>属性白字本身还受到怪物属抗的影响</strong>，因此我们应该尽力避免去对付与本职业属强相对应的怪物，光属性职业避免走卢克光路，暗属性职业避免走卢克暗路，等等，这一点的直接体现就是具有属性白字的装备在面对吃球后的吞噬魔时(吞噬魔吃掉对应属性的球其属抗将直接降到负1400左右)异常犀利。</li>
</ul>
<p>(虽然大部分情况下，第二个问题往往被忽略不计，但实际上大家在打团的时候还是推荐优先按照属性来划分队伍，打起来也会更加轻松)</p>
<h1 id="白字属性的破招和主属性提升率的计算"><a href="#白字属性的破招和主属性提升率的计算" class="headerlink" title="白字属性的破招和主属性提升率的计算"></a>白字属性的破招和主属性提升率的计算</h1><h2 id="白字双破"><a href="#白字双破" class="headerlink" title="白字双破"></a>白字双破</h2><p>白字双破，即<strong>角色身上的白字会在技能打出破招时进行二次加成</strong>。<br>DNF系统中，若破招攻击怪物，会有25%的破招伤害加成，即变为原本的<code>1.25</code>倍，而白字也同样享受这个破招的加成，这也就是“白字双破”这一词的含义。<br>所以在刷图过程中，没有必要控制怪物时，请不要施放多余的控制技能，保证自己的输出最大化。</p>
<h2 id="主属性值提升"><a href="#主属性值提升" class="headerlink" title="主属性值提升"></a>主属性值提升</h2><p>这里的属性值包括<strong>力量、智力、独立攻击力、物理攻击力、魔法攻击力和属性强化</strong>。</p>
<h3 id="属性值"><a href="#属性值" class="headerlink" title="属性值"></a>属性值</h3><p>DNF的属性值提升率计算都比较简单，只有两个公式:</p>
<blockquote>
<p>力量/智力提升率=新增数值/(原有数值+250)</p>
</blockquote>
<p>即如果我此前是2250点力量，在通过某些途径增加了250点力量的情况下新增力量的提升率就是250/(2250+250)x100%=<code>10%</code>。</p>
<h3 id="三攻"><a href="#三攻" class="headerlink" title="三攻"></a>三攻</h3><blockquote>
<p>独立/物理/魔法攻击力提升率=新增数值/原有数值</p>
</blockquote>
<p>即在2500点独立的情况下提升250点独立提升率为250/2500x100%=<code>10%</code>，物攻和魔攻也是同理。</p>
<h3 id="属性强化"><a href="#属性强化" class="headerlink" title="属性强化"></a>属性强化</h3><blockquote>
<p>属强提升率=新增属强x3/【(原本属强-怪物属抗)x3+700】</p>
</blockquote>
<p>即在原本属强为100，怪物属抗为0的情况下提升100属性强化，其提升率为100x3/【(100-0)x3+700】=<code>30%</code>。</p>
<ul>
<li>提到当前版本的主属性提升率的目的主要是为了给勇士们一个参考，在纠结某些附魔或装备选择时可自行计算，例如说今年的春节宠物附魔是应该选择双独立、单独立单属强还是双属强，从而在自己的基础上做出最适合自己的选择。</li>
</ul>
<h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><ul>
<li>尽管目前大部分小伙伴的主号装备已经达到了可以“秒天秒地”的水平，但无梦觉得最大化提升伤害和输出，依旧是非常有必要了解和熟悉的，毕竟，一步步提高自己的战斗力和输出水平，一直都是大家的游戏乐趣之一。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/03/DNF中的伤害类型介绍/" data-id="ckrnaka2g0005cgukr9hhdwcu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DNF/">DNF</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DNF/">DNF</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IT/">IT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/其他游戏分析/">其他游戏分析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/教程/">教程</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/DNF/">DNF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MOBA/">MOBA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/测试/">测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/游戏攻略/">游戏攻略</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/游戏数值分析/">游戏数值分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/游戏策划/">游戏策划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/龙之谷/">龙之谷</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/DNF/" style="font-size: 20px;">DNF</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/MOBA/" style="font-size: 10px;">MOBA</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/markdown/" style="font-size: 12.5px;">markdown</a> <a href="/tags/测试/" style="font-size: 10px;">测试</a> <a href="/tags/游戏攻略/" style="font-size: 10px;">游戏攻略</a> <a href="/tags/游戏数值分析/" style="font-size: 15px;">游戏数值分析</a> <a href="/tags/游戏策划/" style="font-size: 17.5px;">游戏策划</a> <a href="/tags/龙之谷/" style="font-size: 10px;">龙之谷</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/28/test/">test</a>
          </li>
        
          <li>
            <a href="/2021/07/28/写在DNF十周年/">写在DNF十周年</a>
          </li>
        
          <li>
            <a href="/2021/07/28/搭建个人博客/">搭建个人博客</a>
          </li>
        
          <li>
            <a href="/2021/07/28/《Slay-the-Spire》中Roguelike元素的设计和使用/">《Slay the Spire》中Roguelike元素的设计和使用</a>
          </li>
        
          <li>
            <a href="/2021/07/28/Markdown语法/">Markdown语法</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 CGnz<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>